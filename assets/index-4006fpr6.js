(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Yc={exports:{}},Ii={},Xc={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Symbol.for("react.element"),gm=Symbol.for("react.portal"),vm=Symbol.for("react.fragment"),ym=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),wm=Symbol.for("react.provider"),_m=Symbol.for("react.context"),bm=Symbol.for("react.forward_ref"),km=Symbol.for("react.suspense"),jm=Symbol.for("react.memo"),Sm=Symbol.for("react.lazy"),fu=Symbol.iterator;function Nm(e){return e===null||typeof e!="object"?null:(e=fu&&e[fu]||e["@@iterator"],typeof e=="function"?e:null)}var Zc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ed=Object.assign,td={};function tn(e,t,r){this.props=e,this.context=t,this.refs=td,this.updater=r||Zc}tn.prototype.isReactComponent={};tn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rd(){}rd.prototype=tn.prototype;function rl(e,t,r){this.props=e,this.context=t,this.refs=td,this.updater=r||Zc}var nl=rl.prototype=new rd;nl.constructor=rl;ed(nl,tn.prototype);nl.isPureReactComponent=!0;var mu=Array.isArray,nd=Object.prototype.hasOwnProperty,sl={current:null},sd={key:!0,ref:!0,__self:!0,__source:!0};function id(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)nd.call(t,n)&&!sd.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:is,type:e,key:i,ref:o,props:s,_owner:sl.current}}function Em(e,t){return{$$typeof:is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function il(e){return typeof e=="object"&&e!==null&&e.$$typeof===is}function Cm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var pu=/\/+/g;function lo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cm(""+e.key):t.toString(36)}function Fs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case is:case gm:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+lo(o,0):n,mu(s)?(r="",e!=null&&(r=e.replace(pu,"$&/")+"/"),Fs(s,t,r,"",function(c){return c})):s!=null&&(il(s)&&(s=Em(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(pu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",mu(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+lo(i,l);o+=Fs(i,t,r,u,s)}else if(u=Nm(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+lo(i,l++),o+=Fs(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xs(e,t,r){if(e==null)return e;var n=[],s=0;return Fs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Pm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},Us={transition:null},Tm={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:Us,ReactCurrentOwner:sl};function od(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:xs,forEach:function(e,t,r){xs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xs(e,function(){t++}),t},toArray:function(e){return xs(e,function(t){return t})||[]},only:function(e){if(!il(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=tn;F.Fragment=vm;F.Profiler=xm;F.PureComponent=rl;F.StrictMode=ym;F.Suspense=km;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tm;F.act=od;F.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ed({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=sl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)nd.call(t,u)&&!sd.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:is,type:e.type,key:s,ref:i,props:n,_owner:o}};F.createContext=function(e){return e={$$typeof:_m,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wm,_context:e},e.Consumer=e};F.createElement=id;F.createFactory=function(e){var t=id.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:bm,render:e}};F.isValidElement=il;F.lazy=function(e){return{$$typeof:Sm,_payload:{_status:-1,_result:e},_init:Pm}};F.memo=function(e,t){return{$$typeof:jm,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=Us.transition;Us.transition={};try{e()}finally{Us.transition=t}};F.unstable_act=od;F.useCallback=function(e,t){return ke.current.useCallback(e,t)};F.useContext=function(e){return ke.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return ke.current.useDeferredValue(e)};F.useEffect=function(e,t){return ke.current.useEffect(e,t)};F.useId=function(){return ke.current.useId()};F.useImperativeHandle=function(e,t,r){return ke.current.useImperativeHandle(e,t,r)};F.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return ke.current.useMemo(e,t)};F.useReducer=function(e,t,r){return ke.current.useReducer(e,t,r)};F.useRef=function(e){return ke.current.useRef(e)};F.useState=function(e){return ke.current.useState(e)};F.useSyncExternalStore=function(e,t,r){return ke.current.useSyncExternalStore(e,t,r)};F.useTransition=function(){return ke.current.useTransition()};F.version="18.3.1";Xc.exports=F;var x=Xc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=x,Im=Symbol.for("react.element"),Om=Symbol.for("react.fragment"),$m=Object.prototype.hasOwnProperty,Am=Rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lm={key:!0,ref:!0,__self:!0,__source:!0};function ad(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$m.call(t,n)&&!Lm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Im,type:e,key:i,ref:o,props:s,_owner:Am.current}}Ii.Fragment=Om;Ii.jsx=ad;Ii.jsxs=ad;Yc.exports=Ii;var a=Yc.exports,ld={exports:{}},De={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,A){var z=R.length;R.push(A);e:for(;0<z;){var ne=z-1>>>1,ce=R[ne];if(0<s(ce,A))R[ne]=A,R[z]=ce,z=ne;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var A=R[0],z=R.pop();if(z!==A){R[0]=z;e:for(var ne=0,ce=R.length,vs=ce>>>1;ne<vs;){var Qt=2*(ne+1)-1,ao=R[Qt],Yt=Qt+1,ys=R[Yt];if(0>s(ao,z))Yt<ce&&0>s(ys,ao)?(R[ne]=ys,R[Yt]=z,ne=Yt):(R[ne]=ao,R[Qt]=z,ne=Qt);else if(Yt<ce&&0>s(ys,z))R[ne]=ys,R[Yt]=z,ne=Yt;else break e}}return A}function s(R,A){var z=R.sortIndex-A.sortIndex;return z!==0?z:R.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,p=3,v=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(R){for(var A=r(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=R)n(c),A.sortIndex=A.expirationTime,t(u,A);else break;A=r(c)}}function b(R){if(w=!1,m(R),!y)if(r(u)!==null)y=!0,X(N);else{var A=r(c);A!==null&&Se(b,A.startTime-R)}}function N(R,A){y=!1,w&&(w=!1,g(j),j=-1),v=!0;var z=p;try{for(m(A),h=r(u);h!==null&&(!(h.expirationTime>A)||R&&!Y());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var ce=ne(h.expirationTime<=A);A=e.unstable_now(),typeof ce=="function"?h.callback=ce:h===r(u)&&n(u),m(A)}else n(u);h=r(u)}if(h!==null)var vs=!0;else{var Qt=r(c);Qt!==null&&Se(b,Qt.startTime-A),vs=!1}return vs}finally{h=null,p=z,v=!1}}var S=!1,k=null,j=-1,P=5,$=-1;function Y(){return!(e.unstable_now()-$<P)}function T(){if(k!==null){var R=e.unstable_now();$=R;var A=!0;try{A=k(!0,R)}finally{A?E():(S=!1,k=null)}}else S=!1}var E;if(typeof f=="function")E=function(){f(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,q=L.port2;L.port1.onmessage=T,E=function(){q.postMessage(null)}}else E=function(){_(T,0)};function X(R){k=R,S||(S=!0,E())}function Se(R,A){j=_(function(){R(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,X(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var z=p;p=A;try{return R()}finally{p=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,A){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=p;p=R;try{return A()}finally{p=z}},e.unstable_scheduleCallback=function(R,A,z){var ne=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ne+z:ne):z=ne,R){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=z+ce,R={id:d++,callback:A,priorityLevel:R,startTime:z,expirationTime:ce,sortIndex:-1},z>ne?(R.sortIndex=z,t(c,R),r(u)===null&&R===r(c)&&(w?(g(j),j=-1):w=!0,Se(b,z-ne))):(R.sortIndex=ce,t(u,R),y||v||(y=!0,X(N))),R},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(R){var A=p;return function(){var z=p;p=A;try{return R.apply(this,arguments)}finally{p=z}}}})(cd);ud.exports=cd;var Dm=ud.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=x,Le=Dm;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dd=new Set,Fn={};function pr(e,t){Kr(e,t),Kr(e+"Capture",t)}function Kr(e,t){for(Fn[e]=t,e=0;e<t.length;e++)dd.add(t[e])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vo=Object.prototype.hasOwnProperty,Mm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gu={},vu={};function Fm(e){return Vo.call(vu,e)?!0:Vo.call(gu,e)?!1:Mm.test(e)?vu[e]=!0:(gu[e]=!0,!1)}function Um(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bm(e,t,r,n){if(t===null||typeof t>"u"||Um(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function je(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new je(e,5,!1,e.toLowerCase(),null,!1,!1)});var ol=/[\-:]([a-z])/g;function al(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ol,al);pe[t]=new je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ol,al);pe[t]=new je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ol,al);pe[t]=new je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new je(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new je(e,1,!1,e.toLowerCase(),null,!0,!0)});function ll(e,t,r,n){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bm(t,r,s,n)&&(r=null),n||s===null?Fm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jt=zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ws=Symbol.for("react.element"),Cr=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),ul=Symbol.for("react.strict_mode"),Ko=Symbol.for("react.profiler"),hd=Symbol.for("react.provider"),fd=Symbol.for("react.context"),cl=Symbol.for("react.forward_ref"),Go=Symbol.for("react.suspense"),Jo=Symbol.for("react.suspense_list"),dl=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),md=Symbol.for("react.offscreen"),yu=Symbol.iterator;function hn(e){return e===null||typeof e!="object"?null:(e=yu&&e[yu]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,uo;function kn(e){if(uo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);uo=t&&t[1]||""}return`
`+uo+e}var co=!1;function ho(e,t){if(!e||co)return"";co=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{co=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?kn(e):""}function Wm(e){switch(e.tag){case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return kn("Suspense");case 19:return kn("SuspenseList");case 0:case 2:case 15:return e=ho(e.type,!1),e;case 11:return e=ho(e.type.render,!1),e;case 1:return e=ho(e.type,!0),e;default:return""}}function Qo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pr:return"Fragment";case Cr:return"Portal";case Ko:return"Profiler";case ul:return"StrictMode";case Go:return"Suspense";case Jo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fd:return(e.displayName||"Context")+".Consumer";case hd:return(e._context.displayName||"Context")+".Provider";case cl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dl:return t=e.displayName||null,t!==null?t:Qo(e.type)||"Memo";case Pt:t=e._payload,e=e._init;try{return Qo(e(t))}catch{}}return null}function qm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qo(t);case 8:return t===ul?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hm(e){var t=pd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _s(e){e._valueTracker||(e._valueTracker=Hm(e))}function gd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=pd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yo(e,t){var r=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function xu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vd(e,t){t=t.checked,t!=null&&ll(e,"checked",t,!1)}function Xo(e,t){vd(e,t);var r=qt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zo(e,t.type,r):t.hasOwnProperty("defaultValue")&&Zo(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Zo(e,t,r){(t!=="number"||ti(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jn=Array.isArray;function Fr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ea(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _u(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(jn(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qt(r)}}function yd(e,t){var r=qt(t.value),n=qt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function bu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ta(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bs,wd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bs=bs||document.createElement("div"),bs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Un(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vm=["Webkit","ms","Moz","O"];Object.keys(Cn).forEach(function(e){Vm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cn[t]=Cn[e]})});function _d(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cn.hasOwnProperty(e)&&Cn[e]?(""+t).trim():t+"px"}function bd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=_d(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Km=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(e,t){if(t){if(Km[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function na(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sa=null;function hl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ia=null,Ur=null,Br=null;function ku(e){if(e=ls(e)){if(typeof ia!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Di(t),ia(e.stateNode,e.type,t))}}function kd(e){Ur?Br?Br.push(e):Br=[e]:Ur=e}function jd(){if(Ur){var e=Ur,t=Br;if(Br=Ur=null,ku(e),t)for(e=0;e<t.length;e++)ku(t[e])}}function Sd(e,t){return e(t)}function Nd(){}var fo=!1;function Ed(e,t,r){if(fo)return e(t,r);fo=!0;try{return Sd(e,t,r)}finally{fo=!1,(Ur!==null||Br!==null)&&(Nd(),jd())}}function Bn(e,t){var r=e.stateNode;if(r===null)return null;var n=Di(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var oa=!1;if(xt)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){oa=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch{oa=!1}function Gm(e,t,r,n,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Pn=!1,ri=null,ni=!1,aa=null,Jm={onError:function(e){Pn=!0,ri=e}};function Qm(e,t,r,n,s,i,o,l,u){Pn=!1,ri=null,Gm.apply(Jm,arguments)}function Ym(e,t,r,n,s,i,o,l,u){if(Qm.apply(this,arguments),Pn){if(Pn){var c=ri;Pn=!1,ri=null}else throw Error(C(198));ni||(ni=!0,aa=c)}}function gr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Cd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ju(e){if(gr(e)!==e)throw Error(C(188))}function Xm(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ju(s),e;if(i===n)return ju(s),t;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function Pd(e){return e=Xm(e),e!==null?Td(e):null}function Td(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Td(e);if(t!==null)return t;e=e.sibling}return null}var Rd=Le.unstable_scheduleCallback,Su=Le.unstable_cancelCallback,Zm=Le.unstable_shouldYield,ep=Le.unstable_requestPaint,se=Le.unstable_now,tp=Le.unstable_getCurrentPriorityLevel,fl=Le.unstable_ImmediatePriority,Id=Le.unstable_UserBlockingPriority,si=Le.unstable_NormalPriority,rp=Le.unstable_LowPriority,Od=Le.unstable_IdlePriority,Oi=null,ut=null;function np(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Oi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:op,sp=Math.log,ip=Math.LN2;function op(e){return e>>>=0,e===0?32:31-(sp(e)/ip|0)|0}var ks=64,js=4194304;function Sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ii(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Sn(l):(i&=o,i!==0&&(n=Sn(i)))}else o=r&~s,o!==0?n=Sn(o):i!==0&&(n=Sn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ze(t),s=1<<r,n|=e[r],t&=~s;return n}function ap(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ze(i),l=1<<o,u=s[o];u===-1?(!(l&r)||l&n)&&(s[o]=ap(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function la(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $d(){var e=ks;return ks<<=1,!(ks&4194240)&&(ks=64),e}function mo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function os(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ze(t),e[t]=r}function up(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ze(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ml(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ze(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var W=0;function Ad(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ld,pl,Dd,zd,Md,ua=!1,Ss=[],Lt=null,Dt=null,zt=null,Wn=new Map,qn=new Map,Rt=[],cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nu(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Wn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qn.delete(t.pointerId)}}function mn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ls(t),t!==null&&pl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function dp(e,t,r,n,s){switch(t){case"focusin":return Lt=mn(Lt,e,t,r,n,s),!0;case"dragenter":return Dt=mn(Dt,e,t,r,n,s),!0;case"mouseover":return zt=mn(zt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Wn.set(i,mn(Wn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,qn.set(i,mn(qn.get(i)||null,e,t,r,n,s)),!0}return!1}function Fd(e){var t=sr(e.target);if(t!==null){var r=gr(t);if(r!==null){if(t=r.tag,t===13){if(t=Cd(r),t!==null){e.blockedOn=t,Md(e.priority,function(){Dd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ca(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);sa=n,r.target.dispatchEvent(n),sa=null}else return t=ls(r),t!==null&&pl(t),e.blockedOn=r,!1;t.shift()}return!0}function Eu(e,t,r){Bs(e)&&r.delete(t)}function hp(){ua=!1,Lt!==null&&Bs(Lt)&&(Lt=null),Dt!==null&&Bs(Dt)&&(Dt=null),zt!==null&&Bs(zt)&&(zt=null),Wn.forEach(Eu),qn.forEach(Eu)}function pn(e,t){e.blockedOn===t&&(e.blockedOn=null,ua||(ua=!0,Le.unstable_scheduleCallback(Le.unstable_NormalPriority,hp)))}function Hn(e){function t(s){return pn(s,e)}if(0<Ss.length){pn(Ss[0],e);for(var r=1;r<Ss.length;r++){var n=Ss[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Lt!==null&&pn(Lt,e),Dt!==null&&pn(Dt,e),zt!==null&&pn(zt,e),Wn.forEach(t),qn.forEach(t),r=0;r<Rt.length;r++)n=Rt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Rt.length&&(r=Rt[0],r.blockedOn===null);)Fd(r),r.blockedOn===null&&Rt.shift()}var Wr=jt.ReactCurrentBatchConfig,oi=!0;function fp(e,t,r,n){var s=W,i=Wr.transition;Wr.transition=null;try{W=1,gl(e,t,r,n)}finally{W=s,Wr.transition=i}}function mp(e,t,r,n){var s=W,i=Wr.transition;Wr.transition=null;try{W=4,gl(e,t,r,n)}finally{W=s,Wr.transition=i}}function gl(e,t,r,n){if(oi){var s=ca(e,t,r,n);if(s===null)jo(e,t,n,ai,r),Nu(e,n);else if(dp(s,e,t,r,n))n.stopPropagation();else if(Nu(e,n),t&4&&-1<cp.indexOf(e)){for(;s!==null;){var i=ls(s);if(i!==null&&Ld(i),i=ca(e,t,r,n),i===null&&jo(e,t,n,ai,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else jo(e,t,n,null,r)}}var ai=null;function ca(e,t,r,n){if(ai=null,e=hl(n),e=sr(e),e!==null)if(t=gr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Cd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ai=e,null}function Ud(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tp()){case fl:return 1;case Id:return 4;case si:case rp:return 16;case Od:return 536870912;default:return 16}default:return 16}}var $t=null,vl=null,Ws=null;function Bd(){if(Ws)return Ws;var e,t=vl,r=t.length,n,s="value"in $t?$t.value:$t.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Ws=s.slice(e,1<n?1-n:void 0)}function qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function Cu(){return!1}function ze(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ns:Cu,this.isPropagationStopped=Cu,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=ze(rn),as=te({},rn,{view:0,detail:0}),pp=ze(as),po,go,gn,$i=te({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gn&&(gn&&e.type==="mousemove"?(po=e.screenX-gn.screenX,go=e.screenY-gn.screenY):go=po=0,gn=e),po)},movementY:function(e){return"movementY"in e?e.movementY:go}}),Pu=ze($i),gp=te({},$i,{dataTransfer:0}),vp=ze(gp),yp=te({},as,{relatedTarget:0}),vo=ze(yp),xp=te({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),wp=ze(xp),_p=te({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bp=ze(_p),kp=te({},rn,{data:0}),Tu=ze(kp),jp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ep(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Np[e])?!!t[e]:!1}function xl(){return Ep}var Cp=te({},as,{key:function(e){if(e.key){var t=jp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xl,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pp=ze(Cp),Tp=te({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=ze(Tp),Rp=te({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xl}),Ip=ze(Rp),Op=te({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$p=ze(Op),Ap=te({},$i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lp=ze(Ap),Dp=[9,13,27,32],wl=xt&&"CompositionEvent"in window,Tn=null;xt&&"documentMode"in document&&(Tn=document.documentMode);var zp=xt&&"TextEvent"in window&&!Tn,Wd=xt&&(!wl||Tn&&8<Tn&&11>=Tn),Iu=" ",Ou=!1;function qd(e,t){switch(e){case"keyup":return Dp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function Mp(e,t){switch(e){case"compositionend":return Hd(t);case"keypress":return t.which!==32?null:(Ou=!0,Iu);case"textInput":return e=t.data,e===Iu&&Ou?null:e;default:return null}}function Fp(e,t){if(Tr)return e==="compositionend"||!wl&&qd(e,t)?(e=Bd(),Ws=vl=$t=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wd&&t.locale!=="ko"?null:t.data;default:return null}}var Up={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Up[e.type]:t==="textarea"}function Vd(e,t,r,n){kd(n),t=li(t,"onChange"),0<t.length&&(r=new yl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Rn=null,Vn=null;function Bp(e){nh(e,0)}function Ai(e){var t=Or(e);if(gd(t))return e}function Wp(e,t){if(e==="change")return t}var Kd=!1;if(xt){var yo;if(xt){var xo="oninput"in document;if(!xo){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),xo=typeof Au.oninput=="function"}yo=xo}else yo=!1;Kd=yo&&(!document.documentMode||9<document.documentMode)}function Lu(){Rn&&(Rn.detachEvent("onpropertychange",Gd),Vn=Rn=null)}function Gd(e){if(e.propertyName==="value"&&Ai(Vn)){var t=[];Vd(t,Vn,e,hl(e)),Ed(Bp,t)}}function qp(e,t,r){e==="focusin"?(Lu(),Rn=t,Vn=r,Rn.attachEvent("onpropertychange",Gd)):e==="focusout"&&Lu()}function Hp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ai(Vn)}function Vp(e,t){if(e==="click")return Ai(t)}function Kp(e,t){if(e==="input"||e==="change")return Ai(t)}function Gp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:Gp;function Kn(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vo.call(t,s)||!tt(e[s],t[s]))return!1}return!0}function Du(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zu(e,t){var r=Du(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Du(r)}}function Jd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qd(){for(var e=window,t=ti();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ti(e.document)}return t}function _l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jp(e){var t=Qd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Jd(r.ownerDocument.documentElement,r)){if(n!==null&&_l(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=zu(r,i);var o=zu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qp=xt&&"documentMode"in document&&11>=document.documentMode,Rr=null,da=null,In=null,ha=!1;function Mu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ha||Rr==null||Rr!==ti(n)||(n=Rr,"selectionStart"in n&&_l(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),In&&Kn(In,n)||(In=n,n=li(da,"onSelect"),0<n.length&&(t=new yl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Rr)))}function Es(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ir={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionend:Es("Transition","TransitionEnd")},wo={},Yd={};xt&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Li(e){if(wo[e])return wo[e];if(!Ir[e])return e;var t=Ir[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Yd)return wo[e]=t[r];return e}var Xd=Li("animationend"),Zd=Li("animationiteration"),eh=Li("animationstart"),th=Li("transitionend"),rh=new Map,Fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vt(e,t){rh.set(e,t),pr(t,[e])}for(var _o=0;_o<Fu.length;_o++){var bo=Fu[_o],Yp=bo.toLowerCase(),Xp=bo[0].toUpperCase()+bo.slice(1);Vt(Yp,"on"+Xp)}Vt(Xd,"onAnimationEnd");Vt(Zd,"onAnimationIteration");Vt(eh,"onAnimationStart");Vt("dblclick","onDoubleClick");Vt("focusin","onFocus");Vt("focusout","onBlur");Vt(th,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nn));function Uu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ym(n,t,void 0,e),e.currentTarget=null}function nh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Uu(s,l,c),i=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Uu(s,l,c),i=u}}}if(ni)throw e=aa,ni=!1,aa=null,e}function K(e,t){var r=t[va];r===void 0&&(r=t[va]=new Set);var n=e+"__bubble";r.has(n)||(sh(t,e,2,!1),r.add(n))}function ko(e,t,r){var n=0;t&&(n|=4),sh(r,e,n,t)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function Gn(e){if(!e[Cs]){e[Cs]=!0,dd.forEach(function(r){r!=="selectionchange"&&(Zp.has(r)||ko(r,!1,e),ko(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cs]||(t[Cs]=!0,ko("selectionchange",!1,t))}}function sh(e,t,r,n){switch(Ud(t)){case 1:var s=fp;break;case 4:s=mp;break;default:s=gl}r=s.bind(null,t,r,e),s=void 0,!oa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function jo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=sr(l),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Ed(function(){var c=i,d=hl(r),h=[];e:{var p=rh.get(e);if(p!==void 0){var v=yl,y=e;switch(e){case"keypress":if(qs(r)===0)break e;case"keydown":case"keyup":v=Pp;break;case"focusin":y="focus",v=vo;break;case"focusout":y="blur",v=vo;break;case"beforeblur":case"afterblur":v=vo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Ip;break;case Xd:case Zd:case eh:v=wp;break;case th:v=$p;break;case"scroll":v=pp;break;case"wheel":v=Lp;break;case"copy":case"cut":case"paste":v=bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ru}var w=(t&4)!==0,_=!w&&e==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var f=c,m;f!==null;){m=f;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,g!==null&&(b=Bn(f,g),b!=null&&w.push(Jn(f,b,m)))),_)break;f=f.return}0<w.length&&(p=new v(p,y,null,r,d),h.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&r!==sa&&(y=r.relatedTarget||r.fromElement)&&(sr(y)||y[wt]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=c,y=y?sr(y):null,y!==null&&(_=gr(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=Pu,b="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ru,b="onPointerLeave",g="onPointerEnter",f="pointer"),_=v==null?p:Or(v),m=y==null?p:Or(y),p=new w(b,f+"leave",v,r,d),p.target=_,p.relatedTarget=m,b=null,sr(d)===c&&(w=new w(g,f+"enter",y,r,d),w.target=m,w.relatedTarget=_,b=w),_=b,v&&y)t:{for(w=v,g=y,f=0,m=w;m;m=wr(m))f++;for(m=0,b=g;b;b=wr(b))m++;for(;0<f-m;)w=wr(w),f--;for(;0<m-f;)g=wr(g),m--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=wr(w),g=wr(g)}w=null}else w=null;v!==null&&Bu(h,p,v,w,!1),y!==null&&_!==null&&Bu(h,_,y,w,!0)}}e:{if(p=c?Or(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var N=Wp;else if($u(p))if(Kd)N=Kp;else{N=Hp;var S=qp}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=Vp);if(N&&(N=N(e,c))){Vd(h,N,r,d);break e}S&&S(e,p,c),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&Zo(p,"number",p.value)}switch(S=c?Or(c):window,e){case"focusin":($u(S)||S.contentEditable==="true")&&(Rr=S,da=c,In=null);break;case"focusout":In=da=Rr=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,Mu(h,r,d);break;case"selectionchange":if(Qp)break;case"keydown":case"keyup":Mu(h,r,d)}var k;if(wl)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Tr?qd(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Wd&&r.locale!=="ko"&&(Tr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Tr&&(k=Bd()):($t=d,vl="value"in $t?$t.value:$t.textContent,Tr=!0)),S=li(c,j),0<S.length&&(j=new Tu(j,e,null,r,d),h.push({event:j,listeners:S}),k?j.data=k:(k=Hd(r),k!==null&&(j.data=k)))),(k=zp?Mp(e,r):Fp(e,r))&&(c=li(c,"onBeforeInput"),0<c.length&&(d=new Tu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=k))}nh(h,t)})}function Jn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function li(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bn(e,r),i!=null&&n.unshift(Jn(e,i,s)),i=Bn(e,t),i!=null&&n.push(Jn(e,i,s))),e=e.return}return n}function wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=Bn(r,i),u!=null&&o.unshift(Jn(r,u,l))):s||(u=Bn(r,i),u!=null&&o.push(Jn(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var eg=/\r\n?/g,tg=/\u0000|\uFFFD/g;function Wu(e){return(typeof e=="string"?e:""+e).replace(eg,`
`).replace(tg,"")}function Ps(e,t,r){if(t=Wu(t),Wu(e)!==t&&r)throw Error(C(425))}function ui(){}var fa=null,ma=null;function pa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ga=typeof setTimeout=="function"?setTimeout:void 0,rg=typeof clearTimeout=="function"?clearTimeout:void 0,qu=typeof Promise=="function"?Promise:void 0,ng=typeof queueMicrotask=="function"?queueMicrotask:typeof qu<"u"?function(e){return qu.resolve(null).then(e).catch(sg)}:ga;function sg(e){setTimeout(function(){throw e})}function So(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Hn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Hn(t)}function Mt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var nn=Math.random().toString(36).slice(2),lt="__reactFiber$"+nn,Qn="__reactProps$"+nn,wt="__reactContainer$"+nn,va="__reactEvents$"+nn,ig="__reactListeners$"+nn,og="__reactHandles$"+nn;function sr(e){var t=e[lt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wt]||r[lt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hu(e);e!==null;){if(r=e[lt])return r;e=Hu(e)}return t}e=r,r=e.parentNode}return null}function ls(e){return e=e[lt]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Di(e){return e[Qn]||null}var ya=[],$r=-1;function Kt(e){return{current:e}}function G(e){0>$r||(e.current=ya[$r],ya[$r]=null,$r--)}function V(e,t){$r++,ya[$r]=e.current,e.current=t}var Ht={},we=Kt(Ht),Te=Kt(!1),ur=Ht;function Gr(e,t){var r=e.type.contextTypes;if(!r)return Ht;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Re(e){return e=e.childContextTypes,e!=null}function ci(){G(Te),G(we)}function Vu(e,t,r){if(we.current!==Ht)throw Error(C(168));V(we,t),V(Te,r)}function ih(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,qm(e)||"Unknown",s));return te({},r,n)}function di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ht,ur=we.current,V(we,e),V(Te,Te.current),!0}function Ku(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=ih(e,t,ur),n.__reactInternalMemoizedMergedChildContext=e,G(Te),G(we),V(we,e)):G(Te),V(Te,r)}var mt=null,zi=!1,No=!1;function oh(e){mt===null?mt=[e]:mt.push(e)}function ag(e){zi=!0,oh(e)}function Gt(){if(!No&&mt!==null){No=!0;var e=0,t=W;try{var r=mt;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mt=null,zi=!1}catch(s){throw mt!==null&&(mt=mt.slice(e+1)),Rd(fl,Gt),s}finally{W=t,No=!1}}return null}var Ar=[],Lr=0,hi=null,fi=0,Fe=[],Ue=0,cr=null,pt=1,gt="";function er(e,t){Ar[Lr++]=fi,Ar[Lr++]=hi,hi=e,fi=t}function ah(e,t,r){Fe[Ue++]=pt,Fe[Ue++]=gt,Fe[Ue++]=cr,cr=e;var n=pt;e=gt;var s=32-Ze(n)-1;n&=~(1<<s),r+=1;var i=32-Ze(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,pt=1<<32-Ze(t)+s|r<<s|n,gt=i+e}else pt=1<<i|r<<s|n,gt=e}function bl(e){e.return!==null&&(er(e,1),ah(e,1,0))}function kl(e){for(;e===hi;)hi=Ar[--Lr],Ar[Lr]=null,fi=Ar[--Lr],Ar[Lr]=null;for(;e===cr;)cr=Fe[--Ue],Fe[Ue]=null,gt=Fe[--Ue],Fe[Ue]=null,pt=Fe[--Ue],Fe[Ue]=null}var Ae=null,$e=null,J=!1,Xe=null;function lh(e,t){var r=Be(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Gu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ae=e,$e=Mt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ae=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=cr!==null?{id:pt,overflow:gt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Be(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ae=e,$e=null,!0):!1;default:return!1}}function xa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wa(e){if(J){var t=$e;if(t){var r=t;if(!Gu(e,t)){if(xa(e))throw Error(C(418));t=Mt(r.nextSibling);var n=Ae;t&&Gu(e,t)?lh(n,r):(e.flags=e.flags&-4097|2,J=!1,Ae=e)}}else{if(xa(e))throw Error(C(418));e.flags=e.flags&-4097|2,J=!1,Ae=e}}}function Ju(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ae=e}function Ts(e){if(e!==Ae)return!1;if(!J)return Ju(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pa(e.type,e.memoizedProps)),t&&(t=$e)){if(xa(e))throw uh(),Error(C(418));for(;t;)lh(e,t),t=Mt(t.nextSibling)}if(Ju(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$e=Mt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=Ae?Mt(e.stateNode.nextSibling):null;return!0}function uh(){for(var e=$e;e;)e=Mt(e.nextSibling)}function Jr(){$e=Ae=null,J=!1}function jl(e){Xe===null?Xe=[e]:Xe.push(e)}var lg=jt.ReactCurrentBatchConfig;function vn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function Rs(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qu(e){var t=e._init;return t(e._payload)}function ch(e){function t(g,f){if(e){var m=g.deletions;m===null?(g.deletions=[f],g.flags|=16):m.push(f)}}function r(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Wt(g,f),g.index=0,g.sibling=null,g}function i(g,f,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<f?(g.flags|=2,f):m):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,f,m,b){return f===null||f.tag!==6?(f=Oo(m,g.mode,b),f.return=g,f):(f=s(f,m),f.return=g,f)}function u(g,f,m,b){var N=m.type;return N===Pr?d(g,f,m.props.children,b,m.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Pt&&Qu(N)===f.type)?(b=s(f,m.props),b.ref=vn(g,f,m),b.return=g,b):(b=Ys(m.type,m.key,m.props,null,g.mode,b),b.ref=vn(g,f,m),b.return=g,b)}function c(g,f,m,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=$o(m,g.mode,b),f.return=g,f):(f=s(f,m.children||[]),f.return=g,f)}function d(g,f,m,b,N){return f===null||f.tag!==7?(f=lr(m,g.mode,b,N),f.return=g,f):(f=s(f,m),f.return=g,f)}function h(g,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Oo(""+f,g.mode,m),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ws:return m=Ys(f.type,f.key,f.props,null,g.mode,m),m.ref=vn(g,null,f),m.return=g,m;case Cr:return f=$o(f,g.mode,m),f.return=g,f;case Pt:var b=f._init;return h(g,b(f._payload),m)}if(jn(f)||hn(f))return f=lr(f,g.mode,m,null),f.return=g,f;Rs(g,f)}return null}function p(g,f,m,b){var N=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return N!==null?null:l(g,f,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ws:return m.key===N?u(g,f,m,b):null;case Cr:return m.key===N?c(g,f,m,b):null;case Pt:return N=m._init,p(g,f,N(m._payload),b)}if(jn(m)||hn(m))return N!==null?null:d(g,f,m,b,null);Rs(g,m)}return null}function v(g,f,m,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(m)||null,l(f,g,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ws:return g=g.get(b.key===null?m:b.key)||null,u(f,g,b,N);case Cr:return g=g.get(b.key===null?m:b.key)||null,c(f,g,b,N);case Pt:var S=b._init;return v(g,f,m,S(b._payload),N)}if(jn(b)||hn(b))return g=g.get(m)||null,d(f,g,b,N,null);Rs(f,b)}return null}function y(g,f,m,b){for(var N=null,S=null,k=f,j=f=0,P=null;k!==null&&j<m.length;j++){k.index>j?(P=k,k=null):P=k.sibling;var $=p(g,k,m[j],b);if($===null){k===null&&(k=P);break}e&&k&&$.alternate===null&&t(g,k),f=i($,f,j),S===null?N=$:S.sibling=$,S=$,k=P}if(j===m.length)return r(g,k),J&&er(g,j),N;if(k===null){for(;j<m.length;j++)k=h(g,m[j],b),k!==null&&(f=i(k,f,j),S===null?N=k:S.sibling=k,S=k);return J&&er(g,j),N}for(k=n(g,k);j<m.length;j++)P=v(k,g,j,m[j],b),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?j:P.key),f=i(P,f,j),S===null?N=P:S.sibling=P,S=P);return e&&k.forEach(function(Y){return t(g,Y)}),J&&er(g,j),N}function w(g,f,m,b){var N=hn(m);if(typeof N!="function")throw Error(C(150));if(m=N.call(m),m==null)throw Error(C(151));for(var S=N=null,k=f,j=f=0,P=null,$=m.next();k!==null&&!$.done;j++,$=m.next()){k.index>j?(P=k,k=null):P=k.sibling;var Y=p(g,k,$.value,b);if(Y===null){k===null&&(k=P);break}e&&k&&Y.alternate===null&&t(g,k),f=i(Y,f,j),S===null?N=Y:S.sibling=Y,S=Y,k=P}if($.done)return r(g,k),J&&er(g,j),N;if(k===null){for(;!$.done;j++,$=m.next())$=h(g,$.value,b),$!==null&&(f=i($,f,j),S===null?N=$:S.sibling=$,S=$);return J&&er(g,j),N}for(k=n(g,k);!$.done;j++,$=m.next())$=v(k,g,j,$.value,b),$!==null&&(e&&$.alternate!==null&&k.delete($.key===null?j:$.key),f=i($,f,j),S===null?N=$:S.sibling=$,S=$);return e&&k.forEach(function(T){return t(g,T)}),J&&er(g,j),N}function _(g,f,m,b){if(typeof m=="object"&&m!==null&&m.type===Pr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ws:e:{for(var N=m.key,S=f;S!==null;){if(S.key===N){if(N=m.type,N===Pr){if(S.tag===7){r(g,S.sibling),f=s(S,m.props.children),f.return=g,g=f;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Pt&&Qu(N)===S.type){r(g,S.sibling),f=s(S,m.props),f.ref=vn(g,S,m),f.return=g,g=f;break e}r(g,S);break}else t(g,S);S=S.sibling}m.type===Pr?(f=lr(m.props.children,g.mode,b,m.key),f.return=g,g=f):(b=Ys(m.type,m.key,m.props,null,g.mode,b),b.ref=vn(g,f,m),b.return=g,g=b)}return o(g);case Cr:e:{for(S=m.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){r(g,f.sibling),f=s(f,m.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else t(g,f);f=f.sibling}f=$o(m,g.mode,b),f.return=g,g=f}return o(g);case Pt:return S=m._init,_(g,f,S(m._payload),b)}if(jn(m))return y(g,f,m,b);if(hn(m))return w(g,f,m,b);Rs(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,m),f.return=g,g=f):(r(g,f),f=Oo(m,g.mode,b),f.return=g,g=f),o(g)):r(g,f)}return _}var Qr=ch(!0),dh=ch(!1),mi=Kt(null),pi=null,Dr=null,Sl=null;function Nl(){Sl=Dr=pi=null}function El(e){var t=mi.current;G(mi),e._currentValue=t}function _a(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function qr(e,t){pi=e,Sl=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function He(e){var t=e._currentValue;if(Sl!==e)if(e={context:e,memoizedValue:t,next:null},Dr===null){if(pi===null)throw Error(C(308));Dr=e,pi.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return t}var ir=null;function Cl(e){ir===null?ir=[e]:ir.push(e)}function hh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Cl(t)):(r.next=s.next,s.next=r),t.interleaved=r,_t(e,n)}function _t(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tt=!1;function Pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ft(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_t(e,r)}return s=n.interleaved,s===null?(t.next=t,Cl(n)):(t.next=s.next,s.next=t),n.interleaved=t,_t(e,r)}function Hs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ml(e,r)}}function Yu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function gi(e,t,r,n){var s=e.updateQueue;Tt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,l=i;do{var p=l.lane,v=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,w=l;switch(p=t,v=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(v,h,p):y,p==null)break e;h=te({},h,p);break e;case 2:Tt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);hr|=o,e.lanes=o,e.memoizedState=h}}function Xu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var us={},ct=Kt(us),Yn=Kt(us),Xn=Kt(us);function or(e){if(e===us)throw Error(C(174));return e}function Tl(e,t){switch(V(Xn,t),V(Yn,e),V(ct,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ta(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ta(t,e)}G(ct),V(ct,t)}function Yr(){G(ct),G(Yn),G(Xn)}function mh(e){or(Xn.current);var t=or(ct.current),r=ta(t,e.type);t!==r&&(V(Yn,e),V(ct,r))}function Rl(e){Yn.current===e&&(G(ct),G(Yn))}var Z=Kt(0);function vi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Eo=[];function Il(){for(var e=0;e<Eo.length;e++)Eo[e]._workInProgressVersionPrimary=null;Eo.length=0}var Vs=jt.ReactCurrentDispatcher,Co=jt.ReactCurrentBatchConfig,dr=0,ee=null,le=null,de=null,yi=!1,On=!1,Zn=0,ug=0;function ge(){throw Error(C(321))}function Ol(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tt(e[r],t[r]))return!1;return!0}function $l(e,t,r,n,s,i){if(dr=i,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?fg:mg,e=r(n,s),On){i=0;do{if(On=!1,Zn=0,25<=i)throw Error(C(301));i+=1,de=le=null,t.updateQueue=null,Vs.current=pg,e=r(n,s)}while(On)}if(Vs.current=xi,t=le!==null&&le.next!==null,dr=0,de=le=ee=null,yi=!1,t)throw Error(C(300));return e}function Al(){var e=Zn!==0;return Zn=0,e}function ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?ee.memoizedState=de=e:de=de.next=e,de}function Ve(){if(le===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=de===null?ee.memoizedState:de.next;if(t!==null)de=t,le=e;else{if(e===null)throw Error(C(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},de===null?ee.memoizedState=de=e:de=de.next=e}return de}function es(e,t){return typeof t=="function"?t(e):t}function Po(e){var t=Ve(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=le,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((dr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,o=n):u=u.next=h,ee.lanes|=d,hr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=l,tt(n,t.memoizedState)||(Pe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ee.lanes|=i,hr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function To(e){var t=Ve(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);tt(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ph(){}function gh(e,t){var r=ee,n=Ve(),s=t(),i=!tt(n.memoizedState,s);if(i&&(n.memoizedState=s,Pe=!0),n=n.queue,Ll(xh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||de!==null&&de.memoizedState.tag&1){if(r.flags|=2048,ts(9,yh.bind(null,r,n,s,t),void 0,null),he===null)throw Error(C(349));dr&30||vh(r,t,s)}return s}function vh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yh(e,t,r,n){t.value=r,t.getSnapshot=n,wh(t)&&_h(e)}function xh(e,t,r){return r(function(){wh(t)&&_h(e)})}function wh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tt(e,r)}catch{return!0}}function _h(e){var t=_t(e,1);t!==null&&et(t,e,1,-1)}function Zu(e){var t=ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},t.queue=e,e=e.dispatch=hg.bind(null,ee,e),[t.memoizedState,e]}function ts(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function bh(){return Ve().memoizedState}function Ks(e,t,r,n){var s=ot();ee.flags|=e,s.memoizedState=ts(1|t,r,void 0,n===void 0?null:n)}function Mi(e,t,r,n){var s=Ve();n=n===void 0?null:n;var i=void 0;if(le!==null){var o=le.memoizedState;if(i=o.destroy,n!==null&&Ol(n,o.deps)){s.memoizedState=ts(t,r,i,n);return}}ee.flags|=e,s.memoizedState=ts(1|t,r,i,n)}function ec(e,t){return Ks(8390656,8,e,t)}function Ll(e,t){return Mi(2048,8,e,t)}function kh(e,t){return Mi(4,2,e,t)}function jh(e,t){return Mi(4,4,e,t)}function Sh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nh(e,t,r){return r=r!=null?r.concat([e]):null,Mi(4,4,Sh.bind(null,t,e),r)}function Dl(){}function Eh(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ol(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ch(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ol(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ph(e,t,r){return dr&21?(tt(r,t)||(r=$d(),ee.lanes|=r,hr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=r)}function cg(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=Co.transition;Co.transition={};try{e(!1),t()}finally{W=r,Co.transition=n}}function Th(){return Ve().memoizedState}function dg(e,t,r){var n=Bt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Rh(e))Ih(t,r);else if(r=hh(e,t,r,n),r!==null){var s=be();et(r,e,n,s),Oh(r,t,n)}}function hg(e,t,r){var n=Bt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rh(e))Ih(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,tt(l,o)){var u=t.interleaved;u===null?(s.next=s,Cl(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=hh(e,t,s,n),r!==null&&(s=be(),et(r,e,n,s),Oh(r,t,n))}}function Rh(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Ih(e,t){On=yi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Oh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ml(e,r)}}var xi={readContext:He,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},fg={readContext:He,useCallback:function(e,t){return ot().memoizedState=[e,t===void 0?null:t],e},useContext:He,useEffect:ec,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ks(4194308,4,Sh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ks(4,2,e,t)},useMemo:function(e,t){var r=ot();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ot();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dg.bind(null,ee,e),[n.memoizedState,e]},useRef:function(e){var t=ot();return e={current:e},t.memoizedState=e},useState:Zu,useDebugValue:Dl,useDeferredValue:function(e){return ot().memoizedState=e},useTransition:function(){var e=Zu(!1),t=e[0];return e=cg.bind(null,e[1]),ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ee,s=ot();if(J){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),he===null)throw Error(C(349));dr&30||vh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ec(xh.bind(null,n,i,e),[e]),n.flags|=2048,ts(9,yh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ot(),t=he.identifierPrefix;if(J){var r=gt,n=pt;r=(n&~(1<<32-Ze(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ug++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mg={readContext:He,useCallback:Eh,useContext:He,useEffect:Ll,useImperativeHandle:Nh,useInsertionEffect:kh,useLayoutEffect:jh,useMemo:Ch,useReducer:Po,useRef:bh,useState:function(){return Po(es)},useDebugValue:Dl,useDeferredValue:function(e){var t=Ve();return Ph(t,le.memoizedState,e)},useTransition:function(){var e=Po(es)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:ph,useSyncExternalStore:gh,useId:Th,unstable_isNewReconciler:!1},pg={readContext:He,useCallback:Eh,useContext:He,useEffect:Ll,useImperativeHandle:Nh,useInsertionEffect:kh,useLayoutEffect:jh,useMemo:Ch,useReducer:To,useRef:bh,useState:function(){return To(es)},useDebugValue:Dl,useDeferredValue:function(e){var t=Ve();return le===null?t.memoizedState=e:Ph(t,le.memoizedState,e)},useTransition:function(){var e=To(es)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:ph,useSyncExternalStore:gh,useId:Th,unstable_isNewReconciler:!1};function Je(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ba(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fi={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=be(),s=Bt(e),i=vt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ft(e,i,s),t!==null&&(et(t,e,s,n),Hs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=be(),s=Bt(e),i=vt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ft(e,i,s),t!==null&&(et(t,e,s,n),Hs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=be(),n=Bt(e),s=vt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ft(e,s,n),t!==null&&(et(t,e,n,r),Hs(t,e,n))}};function tc(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Kn(r,n)||!Kn(s,i):!0}function $h(e,t,r){var n=!1,s=Ht,i=t.contextType;return typeof i=="object"&&i!==null?i=He(i):(s=Re(t)?ur:we.current,n=t.contextTypes,i=(n=n!=null)?Gr(e,s):Ht),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function rc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fi.enqueueReplaceState(t,t.state,null)}function ka(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Pl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=He(i):(i=Re(t)?ur:we.current,s.context=Gr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ba(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Fi.enqueueReplaceState(s,s.state,null),gi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var r="",n=t;do r+=Wm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ro(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ja(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gg=typeof WeakMap=="function"?WeakMap:Map;function Ah(e,t,r){r=vt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_i||(_i=!0,$a=n),ja(e,t)},r}function Lh(e,t,r){r=vt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ja(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ja(e,t),typeof n!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function nc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Tg.bind(null,e,t,r),t.then(e,e))}function sc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ic(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vt(-1,1),t.tag=2,Ft(r,t,1))),r.lanes|=1),e)}var vg=jt.ReactCurrentOwner,Pe=!1;function _e(e,t,r,n){t.child=e===null?dh(t,null,r,n):Qr(t,e.child,r,n)}function oc(e,t,r,n,s){r=r.render;var i=t.ref;return qr(t,s),n=$l(e,t,r,n,i,s),r=Al(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(J&&r&&bl(t),t.flags|=1,_e(e,t,n,s),t.child)}function ac(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Hl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Dh(e,t,i,n,s)):(e=Ys(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Kn,r(o,n)&&e.ref===t.ref)return bt(e,t,s)}return t.flags|=1,e=Wt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Dh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Kn(i,n)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,bt(e,t,s)}return Sa(e,t,r,n,s)}function zh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(Mr,Oe),Oe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,V(Mr,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,V(Mr,Oe),Oe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,V(Mr,Oe),Oe|=n;return _e(e,t,s,r),t.child}function Mh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,r,n,s){var i=Re(r)?ur:we.current;return i=Gr(t,i),qr(t,s),r=$l(e,t,r,n,i,s),n=Al(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(J&&n&&bl(t),t.flags|=1,_e(e,t,r,s),t.child)}function lc(e,t,r,n,s){if(Re(r)){var i=!0;di(t)}else i=!1;if(qr(t,s),t.stateNode===null)Gs(e,t),$h(t,r,n),ka(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=He(c):(c=Re(r)?ur:we.current,c=Gr(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==c)&&rc(t,o,n,c),Tt=!1;var p=t.memoizedState;o.state=p,gi(t,n,o,s),u=t.memoizedState,l!==n||p!==u||Te.current||Tt?(typeof d=="function"&&(ba(t,r,d,n),u=t.memoizedState),(l=Tt||tc(t,r,l,n,p,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,fh(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Je(t.type,l),o.props=c,h=t.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=He(u):(u=Re(r)?ur:we.current,u=Gr(t,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==u)&&rc(t,o,n,u),Tt=!1,p=t.memoizedState,o.state=p,gi(t,n,o,s);var y=t.memoizedState;l!==h||p!==y||Te.current||Tt?(typeof v=="function"&&(ba(t,r,v,n),y=t.memoizedState),(c=Tt||tc(t,r,c,n,p,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Na(e,t,r,n,i,s)}function Na(e,t,r,n,s,i){Mh(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ku(t,r,!1),bt(e,t,i);n=t.stateNode,vg.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Qr(t,e.child,null,i),t.child=Qr(t,null,l,i)):_e(e,t,l,i),t.memoizedState=n.state,s&&Ku(t,r,!0),t.child}function Fh(e){var t=e.stateNode;t.pendingContext?Vu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vu(e,t.context,!1),Tl(e,t.containerInfo)}function uc(e,t,r,n,s){return Jr(),jl(s),t.flags|=256,_e(e,t,r,n),t.child}var Ea={dehydrated:null,treeContext:null,retryLane:0};function Ca(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uh(e,t,r){var n=t.pendingProps,s=Z.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),V(Z,s&1),e===null)return wa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wi(o,n,0,null),e=lr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ca(r),t.memoizedState=Ea,e):zl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return yg(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Wt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Wt(l,i):(i=lr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Ca(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ea,n}return i=e.child,e=i.sibling,n=Wt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zl(e,t){return t=Wi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Is(e,t,r,n){return n!==null&&jl(n),Qr(t,e.child,null,r),e=zl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yg(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ro(Error(C(422))),Is(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Wi({mode:"visible",children:n.children},s,0,null),i=lr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Qr(t,e.child,null,o),t.child.memoizedState=Ca(o),t.memoizedState=Ea,i);if(!(t.mode&1))return Is(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(C(419)),n=Ro(i,n,void 0),Is(e,t,o,n)}if(l=(o&e.childLanes)!==0,Pe||l){if(n=he,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_t(e,s),et(n,e,s,-1))}return ql(),n=Ro(Error(C(421))),Is(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Rg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,$e=Mt(s.nextSibling),Ae=t,J=!0,Xe=null,e!==null&&(Fe[Ue++]=pt,Fe[Ue++]=gt,Fe[Ue++]=cr,pt=e.id,gt=e.overflow,cr=t),t=zl(t,n.children),t.flags|=4096,t)}function cc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_a(e.return,t,r)}function Io(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Bh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(_e(e,t,n.children,r),n=Z.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cc(e,r,t);else if(e.tag===19)cc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(V(Z,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&vi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Io(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Io(t,!0,r,null,i);break;case"together":Io(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=Wt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function xg(e,t,r){switch(t.tag){case 3:Fh(t),Jr();break;case 5:mh(t);break;case 1:Re(t.type)&&di(t);break;case 4:Tl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;V(mi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(V(Z,Z.current&1),t.flags|=128,null):r&t.child.childLanes?Uh(e,t,r):(V(Z,Z.current&1),e=bt(e,t,r),e!==null?e.sibling:null);V(Z,Z.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Bh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(Z,Z.current),n)break;return null;case 22:case 23:return t.lanes=0,zh(e,t,r)}return bt(e,t,r)}var Wh,Pa,qh,Hh;Wh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Pa=function(){};qh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,or(ct.current);var i=null;switch(r){case"input":s=Yo(e,s),n=Yo(e,n),i=[];break;case"select":s=te({},s,{value:void 0}),n=te({},n,{value:void 0}),i=[];break;case"textarea":s=ea(e,s),n=ea(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ui)}ra(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&K("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Hh=function(e,t,r,n){r!==n&&(t.flags|=4)};function yn(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wg(e,t,r){var n=t.pendingProps;switch(kl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(t),null;case 1:return Re(t.type)&&ci(),ve(t),null;case 3:return n=t.stateNode,Yr(),G(Te),G(we),Il(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xe!==null&&(Da(Xe),Xe=null))),Pa(e,t),ve(t),null;case 5:Rl(t);var s=or(Xn.current);if(r=t.type,e!==null&&t.stateNode!=null)qh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return ve(t),null}if(e=or(ct.current),Ts(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[lt]=t,n[Qn]=i,e=(t.mode&1)!==0,r){case"dialog":K("cancel",n),K("close",n);break;case"iframe":case"object":case"embed":K("load",n);break;case"video":case"audio":for(s=0;s<Nn.length;s++)K(Nn[s],n);break;case"source":K("error",n);break;case"img":case"image":case"link":K("error",n),K("load",n);break;case"details":K("toggle",n);break;case"input":xu(n,i),K("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},K("invalid",n);break;case"textarea":_u(n,i),K("invalid",n)}ra(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ps(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ps(n.textContent,l,e),s=["children",""+l]):Fn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&K("scroll",n)}switch(r){case"input":_s(n),wu(n,i,!0);break;case"textarea":_s(n),bu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ui)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[lt]=t,e[Qn]=n,Wh(e,t,!1,!1),t.stateNode=e;e:{switch(o=na(r,n),r){case"dialog":K("cancel",e),K("close",e),s=n;break;case"iframe":case"object":case"embed":K("load",e),s=n;break;case"video":case"audio":for(s=0;s<Nn.length;s++)K(Nn[s],e);s=n;break;case"source":K("error",e),s=n;break;case"img":case"image":case"link":K("error",e),K("load",e),s=n;break;case"details":K("toggle",e),s=n;break;case"input":xu(e,n),s=Yo(e,n),K("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=te({},n,{value:void 0}),K("invalid",e);break;case"textarea":_u(e,n),s=ea(e,n),K("invalid",e);break;default:s=n}ra(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?bd(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&wd(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Un(e,u):typeof u=="number"&&Un(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&K("scroll",e):u!=null&&ll(e,i,u,o))}switch(r){case"input":_s(e),wu(e,n,!1);break;case"textarea":_s(e),bu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Fr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Fr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ui)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ve(t),null;case 6:if(e&&t.stateNode!=null)Hh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=or(Xn.current),or(ct.current),Ts(t)){if(n=t.stateNode,r=t.memoizedProps,n[lt]=t,(i=n.nodeValue!==r)&&(e=Ae,e!==null))switch(e.tag){case 3:Ps(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ps(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lt]=t,t.stateNode=n}return ve(t),null;case 13:if(G(Z),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&$e!==null&&t.mode&1&&!(t.flags&128))uh(),Jr(),t.flags|=98560,i=!1;else if(i=Ts(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[lt]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ve(t),i=!1}else Xe!==null&&(Da(Xe),Xe=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?ue===0&&(ue=3):ql())),t.updateQueue!==null&&(t.flags|=4),ve(t),null);case 4:return Yr(),Pa(e,t),e===null&&Gn(t.stateNode.containerInfo),ve(t),null;case 10:return El(t.type._context),ve(t),null;case 17:return Re(t.type)&&ci(),ve(t),null;case 19:if(G(Z),i=t.memoizedState,i===null)return ve(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)yn(i,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vi(e),o!==null){for(t.flags|=128,yn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return V(Z,Z.current&1|2),t.child}e=e.sibling}i.tail!==null&&se()>Zr&&(t.flags|=128,n=!0,yn(i,!1),t.lanes=4194304)}else{if(!n)if(e=vi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return ve(t),null}else 2*se()-i.renderingStartTime>Zr&&r!==1073741824&&(t.flags|=128,n=!0,yn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=se(),t.sibling=null,r=Z.current,V(Z,n?r&1|2:r&1),t):(ve(t),null);case 22:case 23:return Wl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Oe&1073741824&&(ve(t),t.subtreeFlags&6&&(t.flags|=8192)):ve(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function _g(e,t){switch(kl(t),t.tag){case 1:return Re(t.type)&&ci(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yr(),G(Te),G(we),Il(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rl(t),null;case 13:if(G(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Z),null;case 4:return Yr(),null;case 10:return El(t.type._context),null;case 22:case 23:return Wl(),null;case 24:return null;default:return null}}var Os=!1,xe=!1,bg=typeof WeakSet=="function"?WeakSet:Set,I=null;function zr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(e,t,n)}else r.current=null}function Ta(e,t,r){try{r()}catch(n){re(e,t,n)}}var dc=!1;function kg(e,t){if(fa=oi,e=Qd(),_l(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===e)break t;if(p===r&&++c===s&&(l=o),p===i&&++d===n&&(u=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(ma={focusedElem:e,selectionRange:r},oi=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:Je(t.type,w),_);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(b){re(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return y=dc,dc=!1,y}function $n(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ta(t,r,i)}s=s.next}while(s!==n)}}function Ui(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ra(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Vh(e){var t=e.alternate;t!==null&&(e.alternate=null,Vh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lt],delete t[Qn],delete t[va],delete t[ig],delete t[og])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kh(e){return e.tag===5||e.tag===3||e.tag===4}function hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ia(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ui));else if(n!==4&&(e=e.child,e!==null))for(Ia(e,t,r),e=e.sibling;e!==null;)Ia(e,t,r),e=e.sibling}function Oa(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Oa(e,t,r),e=e.sibling;e!==null;)Oa(e,t,r),e=e.sibling}var fe=null,Qe=!1;function Nt(e,t,r){for(r=r.child;r!==null;)Gh(e,t,r),r=r.sibling}function Gh(e,t,r){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Oi,r)}catch{}switch(r.tag){case 5:xe||zr(r,t);case 6:var n=fe,s=Qe;fe=null,Nt(e,t,r),fe=n,Qe=s,fe!==null&&(Qe?(e=fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fe.removeChild(r.stateNode));break;case 18:fe!==null&&(Qe?(e=fe,r=r.stateNode,e.nodeType===8?So(e.parentNode,r):e.nodeType===1&&So(e,r),Hn(e)):So(fe,r.stateNode));break;case 4:n=fe,s=Qe,fe=r.stateNode.containerInfo,Qe=!0,Nt(e,t,r),fe=n,Qe=s;break;case 0:case 11:case 14:case 15:if(!xe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ta(r,t,o),s=s.next}while(s!==n)}Nt(e,t,r);break;case 1:if(!xe&&(zr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){re(r,t,l)}Nt(e,t,r);break;case 21:Nt(e,t,r);break;case 22:r.mode&1?(xe=(n=xe)||r.memoizedState!==null,Nt(e,t,r),xe=n):Nt(e,t,r);break;default:Nt(e,t,r)}}function fc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bg),t.forEach(function(n){var s=Ig.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ge(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:fe=l.stateNode,Qe=!1;break e;case 3:fe=l.stateNode.containerInfo,Qe=!0;break e;case 4:fe=l.stateNode.containerInfo,Qe=!0;break e}l=l.return}if(fe===null)throw Error(C(160));Gh(i,o,s),fe=null,Qe=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){re(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jh(t,e),t=t.sibling}function Jh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ge(t,e),st(e),n&4){try{$n(3,e,e.return),Ui(3,e)}catch(w){re(e,e.return,w)}try{$n(5,e,e.return)}catch(w){re(e,e.return,w)}}break;case 1:Ge(t,e),st(e),n&512&&r!==null&&zr(r,r.return);break;case 5:if(Ge(t,e),st(e),n&512&&r!==null&&zr(r,r.return),e.flags&32){var s=e.stateNode;try{Un(s,"")}catch(w){re(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&vd(s,i),na(l,o);var c=na(l,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?bd(s,h):d==="dangerouslySetInnerHTML"?wd(s,h):d==="children"?Un(s,h):ll(s,d,h,c)}switch(l){case"input":Xo(s,i);break;case"textarea":yd(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Fr(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Fr(s,!!i.multiple,i.defaultValue,!0):Fr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qn]=i}catch(w){re(e,e.return,w)}}break;case 6:if(Ge(t,e),st(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){re(e,e.return,w)}}break;case 3:if(Ge(t,e),st(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hn(t.containerInfo)}catch(w){re(e,e.return,w)}break;case 4:Ge(t,e),st(e);break;case 13:Ge(t,e),st(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ul=se())),n&4&&fc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(xe=(c=xe)||d,Ge(t,e),xe=c):Ge(t,e),st(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(h=I=d;I!==null;){switch(p=I,v=p.child,p.tag){case 0:case 11:case 14:case 15:$n(4,p,p.return);break;case 1:zr(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){re(n,r,w)}}break;case 5:zr(p,p.return);break;case 22:if(p.memoizedState!==null){pc(h);continue}}v!==null?(v.return=p,I=v):pc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=_d("display",o))}catch(w){re(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){re(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ge(t,e),st(e),n&4&&fc(e);break;case 21:break;default:Ge(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Kh(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Un(s,""),n.flags&=-33);var i=hc(e);Oa(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=hc(e);Ia(e,l,o);break;default:throw Error(C(161))}}catch(u){re(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jg(e,t,r){I=e,Qh(e)}function Qh(e,t,r){for(var n=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Os;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||xe;l=Os;var c=xe;if(Os=o,(xe=u)&&!c)for(I=s;I!==null;)o=I,u=o.child,o.tag===22&&o.memoizedState!==null?gc(s):u!==null?(u.return=o,I=u):gc(s);for(;i!==null;)I=i,Qh(i),i=i.sibling;I=s,Os=l,xe=c}mc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):mc(e)}}function mc(e){for(;I!==null;){var t=I;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||Ui(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!xe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Je(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Xu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Xu(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Hn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}xe||t.flags&512&&Ra(t)}catch(p){re(t,t.return,p)}}if(t===e){I=null;break}if(r=t.sibling,r!==null){r.return=t.return,I=r;break}I=t.return}}function pc(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var r=t.sibling;if(r!==null){r.return=t.return,I=r;break}I=t.return}}function gc(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ui(4,t)}catch(u){re(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){re(t,s,u)}}var i=t.return;try{Ra(t)}catch(u){re(t,i,u)}break;case 5:var o=t.return;try{Ra(t)}catch(u){re(t,o,u)}}}catch(u){re(t,t.return,u)}if(t===e){I=null;break}var l=t.sibling;if(l!==null){l.return=t.return,I=l;break}I=t.return}}var Sg=Math.ceil,wi=jt.ReactCurrentDispatcher,Ml=jt.ReactCurrentOwner,We=jt.ReactCurrentBatchConfig,B=0,he=null,oe=null,me=0,Oe=0,Mr=Kt(0),ue=0,rs=null,hr=0,Bi=0,Fl=0,An=null,Ee=null,Ul=0,Zr=1/0,ht=null,_i=!1,$a=null,Ut=null,$s=!1,At=null,bi=0,Ln=0,Aa=null,Js=-1,Qs=0;function be(){return B&6?se():Js!==-1?Js:Js=se()}function Bt(e){return e.mode&1?B&2&&me!==0?me&-me:lg.transition!==null?(Qs===0&&(Qs=$d()),Qs):(e=W,e!==0||(e=window.event,e=e===void 0?16:Ud(e.type)),e):1}function et(e,t,r,n){if(50<Ln)throw Ln=0,Aa=null,Error(C(185));os(e,r,n),(!(B&2)||e!==he)&&(e===he&&(!(B&2)&&(Bi|=r),ue===4&&It(e,me)),Ie(e,n),r===1&&B===0&&!(t.mode&1)&&(Zr=se()+500,zi&&Gt()))}function Ie(e,t){var r=e.callbackNode;lp(e,t);var n=ii(e,e===he?me:0);if(n===0)r!==null&&Su(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Su(r),t===1)e.tag===0?ag(vc.bind(null,e)):oh(vc.bind(null,e)),ng(function(){!(B&6)&&Gt()}),r=null;else{switch(Ad(n)){case 1:r=fl;break;case 4:r=Id;break;case 16:r=si;break;case 536870912:r=Od;break;default:r=si}r=sf(r,Yh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Yh(e,t){if(Js=-1,Qs=0,B&6)throw Error(C(327));var r=e.callbackNode;if(Hr()&&e.callbackNode!==r)return null;var n=ii(e,e===he?me:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ki(e,n);else{t=n;var s=B;B|=2;var i=Zh();(he!==e||me!==t)&&(ht=null,Zr=se()+500,ar(e,t));do try{Cg();break}catch(l){Xh(e,l)}while(!0);Nl(),wi.current=i,B=s,oe!==null?t=0:(he=null,me=0,t=ue)}if(t!==0){if(t===2&&(s=la(e),s!==0&&(n=s,t=La(e,s))),t===1)throw r=rs,ar(e,0),It(e,n),Ie(e,se()),r;if(t===6)It(e,n);else{if(s=e.current.alternate,!(n&30)&&!Ng(s)&&(t=ki(e,n),t===2&&(i=la(e),i!==0&&(n=i,t=La(e,i))),t===1))throw r=rs,ar(e,0),It(e,n),Ie(e,se()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:tr(e,Ee,ht);break;case 3:if(It(e,n),(n&130023424)===n&&(t=Ul+500-se(),10<t)){if(ii(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){be(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ga(tr.bind(null,e,Ee,ht),t);break}tr(e,Ee,ht);break;case 4:if(It(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Ze(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sg(n/1960))-n,10<n){e.timeoutHandle=ga(tr.bind(null,e,Ee,ht),n);break}tr(e,Ee,ht);break;case 5:tr(e,Ee,ht);break;default:throw Error(C(329))}}}return Ie(e,se()),e.callbackNode===r?Yh.bind(null,e):null}function La(e,t){var r=An;return e.current.memoizedState.isDehydrated&&(ar(e,t).flags|=256),e=ki(e,t),e!==2&&(t=Ee,Ee=r,t!==null&&Da(t)),e}function Da(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function Ng(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!tt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~Fl,t&=~Bi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ze(t),n=1<<r;e[r]=-1,t&=~n}}function vc(e){if(B&6)throw Error(C(327));Hr();var t=ii(e,0);if(!(t&1))return Ie(e,se()),null;var r=ki(e,t);if(e.tag!==0&&r===2){var n=la(e);n!==0&&(t=n,r=La(e,n))}if(r===1)throw r=rs,ar(e,0),It(e,t),Ie(e,se()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tr(e,Ee,ht),Ie(e,se()),null}function Bl(e,t){var r=B;B|=1;try{return e(t)}finally{B=r,B===0&&(Zr=se()+500,zi&&Gt())}}function fr(e){At!==null&&At.tag===0&&!(B&6)&&Hr();var t=B;B|=1;var r=We.transition,n=W;try{if(We.transition=null,W=1,e)return e()}finally{W=n,We.transition=r,B=t,!(B&6)&&Gt()}}function Wl(){Oe=Mr.current,G(Mr)}function ar(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,rg(r)),oe!==null)for(r=oe.return;r!==null;){var n=r;switch(kl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ci();break;case 3:Yr(),G(Te),G(we),Il();break;case 5:Rl(n);break;case 4:Yr();break;case 13:G(Z);break;case 19:G(Z);break;case 10:El(n.type._context);break;case 22:case 23:Wl()}r=r.return}if(he=e,oe=e=Wt(e.current,null),me=Oe=t,ue=0,rs=null,Fl=Bi=hr=0,Ee=An=null,ir!==null){for(t=0;t<ir.length;t++)if(r=ir[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ir=null}return e}function Xh(e,t){do{var r=oe;try{if(Nl(),Vs.current=xi,yi){for(var n=ee.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}yi=!1}if(dr=0,de=le=ee=null,On=!1,Zn=0,Ml.current=null,r===null||r.return===null){ue=1,rs=t,oe=null;break}e:{var i=e,o=r.return,l=r,u=t;if(t=me,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=sc(o);if(v!==null){v.flags&=-257,ic(v,o,l,i,t),v.mode&1&&nc(i,c,t),t=v,u=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(u),t.updateQueue=w}else y.add(u);break e}else{if(!(t&1)){nc(i,c,t),ql();break e}u=Error(C(426))}}else if(J&&l.mode&1){var _=sc(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ic(_,o,l,i,t),jl(Xr(u,l));break e}}i=u=Xr(u,l),ue!==4&&(ue=2),An===null?An=[i]:An.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Ah(i,u,t);Yu(i,g);break e;case 1:l=u;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ut===null||!Ut.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Lh(i,l,t);Yu(i,b);break e}}i=i.return}while(i!==null)}tf(r)}catch(N){t=N,oe===r&&r!==null&&(oe=r=r.return);continue}break}while(!0)}function Zh(){var e=wi.current;return wi.current=xi,e===null?xi:e}function ql(){(ue===0||ue===3||ue===2)&&(ue=4),he===null||!(hr&268435455)&&!(Bi&268435455)||It(he,me)}function ki(e,t){var r=B;B|=2;var n=Zh();(he!==e||me!==t)&&(ht=null,ar(e,t));do try{Eg();break}catch(s){Xh(e,s)}while(!0);if(Nl(),B=r,wi.current=n,oe!==null)throw Error(C(261));return he=null,me=0,ue}function Eg(){for(;oe!==null;)ef(oe)}function Cg(){for(;oe!==null&&!Zm();)ef(oe)}function ef(e){var t=nf(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?tf(e):oe=t,Ml.current=null}function tf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=_g(r,t),r!==null){r.flags&=32767,oe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,oe=null;return}}else if(r=wg(r,t,Oe),r!==null){oe=r;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ue===0&&(ue=5)}function tr(e,t,r){var n=W,s=We.transition;try{We.transition=null,W=1,Pg(e,t,r,n)}finally{We.transition=s,W=n}return null}function Pg(e,t,r,n){do Hr();while(At!==null);if(B&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(up(e,i),e===he&&(oe=he=null,me=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$s||($s=!0,sf(si,function(){return Hr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=W;W=1;var l=B;B|=4,Ml.current=null,kg(e,r),Jh(r,e),Jp(ma),oi=!!fa,ma=fa=null,e.current=r,jg(r),ep(),B=l,W=o,We.transition=i}else e.current=r;if($s&&($s=!1,At=e,bi=s),i=e.pendingLanes,i===0&&(Ut=null),np(r.stateNode),Ie(e,se()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(_i)throw _i=!1,e=$a,$a=null,e;return bi&1&&e.tag!==0&&Hr(),i=e.pendingLanes,i&1?e===Aa?Ln++:(Ln=0,Aa=e):Ln=0,Gt(),null}function Hr(){if(At!==null){var e=Ad(bi),t=We.transition,r=W;try{if(We.transition=null,W=16>e?16:e,At===null)var n=!1;else{if(e=At,At=null,bi=0,B&6)throw Error(C(331));var s=B;for(B|=4,I=e.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(I=c;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:$n(8,d,i)}var h=d.child;if(h!==null)h.return=d,I=h;else for(;I!==null;){d=I;var p=d.sibling,v=d.return;if(Vh(d),d===c){I=null;break}if(p!==null){p.return=v,I=p;break}I=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$n(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,I=g;break e}I=i.return}}var f=e.current;for(I=f;I!==null;){o=I;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,I=m;else e:for(o=f;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ui(9,l)}}catch(N){re(l,l.return,N)}if(l===o){I=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,I=b;break e}I=l.return}}if(B=s,Gt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Oi,e)}catch{}n=!0}return n}finally{W=r,We.transition=t}}return!1}function yc(e,t,r){t=Xr(r,t),t=Ah(e,t,1),e=Ft(e,t,1),t=be(),e!==null&&(os(e,1,t),Ie(e,t))}function re(e,t,r){if(e.tag===3)yc(e,e,r);else for(;t!==null;){if(t.tag===3){yc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ut===null||!Ut.has(n))){e=Xr(r,e),e=Lh(t,e,1),t=Ft(t,e,1),e=be(),t!==null&&(os(t,1,e),Ie(t,e));break}}t=t.return}}function Tg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&r,he===e&&(me&r)===r&&(ue===4||ue===3&&(me&130023424)===me&&500>se()-Ul?ar(e,0):Fl|=r),Ie(e,t)}function rf(e,t){t===0&&(e.mode&1?(t=js,js<<=1,!(js&130023424)&&(js=4194304)):t=1);var r=be();e=_t(e,t),e!==null&&(os(e,t,r),Ie(e,r))}function Rg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),rf(e,r)}function Ig(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),rf(e,r)}var nf;nf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Pe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pe=!1,xg(e,t,r);Pe=!!(e.flags&131072)}else Pe=!1,J&&t.flags&1048576&&ah(t,fi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gs(e,t),e=t.pendingProps;var s=Gr(t,we.current);qr(t,r),s=$l(null,t,n,e,s,r);var i=Al();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Re(n)?(i=!0,di(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pl(t),s.updater=Fi,t.stateNode=s,s._reactInternals=t,ka(t,n,e,r),t=Na(null,t,n,!0,i,r)):(t.tag=0,J&&i&&bl(t),_e(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=$g(n),e=Je(n,e),s){case 0:t=Sa(null,t,n,e,r);break e;case 1:t=lc(null,t,n,e,r);break e;case 11:t=oc(null,t,n,e,r);break e;case 14:t=ac(null,t,n,Je(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Je(n,s),Sa(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Je(n,s),lc(e,t,n,s,r);case 3:e:{if(Fh(t),e===null)throw Error(C(387));n=t.pendingProps,i=t.memoizedState,s=i.element,fh(e,t),gi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Xr(Error(C(423)),t),t=uc(e,t,n,r,s);break e}else if(n!==s){s=Xr(Error(C(424)),t),t=uc(e,t,n,r,s);break e}else for($e=Mt(t.stateNode.containerInfo.firstChild),Ae=t,J=!0,Xe=null,r=dh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),n===s){t=bt(e,t,r);break e}_e(e,t,n,r)}t=t.child}return t;case 5:return mh(t),e===null&&wa(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,pa(n,s)?o=null:i!==null&&pa(n,i)&&(t.flags|=32),Mh(e,t),_e(e,t,o,r),t.child;case 6:return e===null&&wa(t),null;case 13:return Uh(e,t,r);case 4:return Tl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qr(t,null,n,r):_e(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Je(n,s),oc(e,t,n,s,r);case 7:return _e(e,t,t.pendingProps,r),t.child;case 8:return _e(e,t,t.pendingProps.children,r),t.child;case 12:return _e(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,V(mi,n._currentValue),n._currentValue=o,i!==null)if(tt(i.value,o)){if(i.children===s.children&&!Te.current){t=bt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=vt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),_a(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),_a(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,qr(t,r),s=He(s),n=n(s),t.flags|=1,_e(e,t,n,r),t.child;case 14:return n=t.type,s=Je(n,t.pendingProps),s=Je(n.type,s),ac(e,t,n,s,r);case 15:return Dh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Je(n,s),Gs(e,t),t.tag=1,Re(n)?(e=!0,di(t)):e=!1,qr(t,r),$h(t,n,s),ka(t,n,s,r),Na(null,t,n,!0,e,r);case 19:return Bh(e,t,r);case 22:return zh(e,t,r)}throw Error(C(156,t.tag))};function sf(e,t){return Rd(e,t)}function Og(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(e,t,r,n){return new Og(e,t,r,n)}function Hl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $g(e){if(typeof e=="function")return Hl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cl)return 11;if(e===dl)return 14}return 2}function Wt(e,t){var r=e.alternate;return r===null?(r=Be(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ys(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Hl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pr:return lr(r.children,s,i,t);case ul:o=8,s|=8;break;case Ko:return e=Be(12,r,t,s|2),e.elementType=Ko,e.lanes=i,e;case Go:return e=Be(13,r,t,s),e.elementType=Go,e.lanes=i,e;case Jo:return e=Be(19,r,t,s),e.elementType=Jo,e.lanes=i,e;case md:return Wi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hd:o=10;break e;case fd:o=9;break e;case cl:o=11;break e;case dl:o=14;break e;case Pt:o=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Be(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function lr(e,t,r,n){return e=Be(7,e,n,t),e.lanes=r,e}function Wi(e,t,r,n){return e=Be(22,e,n,t),e.elementType=md,e.lanes=r,e.stateNode={isHidden:!1},e}function Oo(e,t,r){return e=Be(6,e,null,t),e.lanes=r,e}function $o(e,t,r){return t=Be(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ag(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mo(0),this.expirationTimes=mo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vl(e,t,r,n,s,i,o,l,u){return e=new Ag(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Be(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pl(i),e}function Lg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function of(e){if(!e)return Ht;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Re(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Re(r))return ih(e,r,t)}return t}function af(e,t,r,n,s,i,o,l,u){return e=Vl(r,n,!0,e,s,i,o,l,u),e.context=of(null),r=e.current,n=be(),s=Bt(r),i=vt(n,s),i.callback=t??null,Ft(r,i,s),e.current.lanes=s,os(e,s,n),Ie(e,n),e}function qi(e,t,r,n){var s=t.current,i=be(),o=Bt(s);return r=of(r),t.context===null?t.context=r:t.pendingContext=r,t=vt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ft(s,t,o),e!==null&&(et(e,s,o,i),Hs(e,s,o)),o}function ji(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Kl(e,t){xc(e,t),(e=e.alternate)&&xc(e,t)}function Dg(){return null}var lf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gl(e){this._internalRoot=e}Hi.prototype.render=Gl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));qi(e,t,null,null)};Hi.prototype.unmount=Gl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fr(function(){qi(null,e,null,null)}),t[wt]=null}};function Hi(e){this._internalRoot=e}Hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=zd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rt.length&&t!==0&&t<Rt[r].priority;r++);Rt.splice(r,0,e),r===0&&Fd(e)}};function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wc(){}function zg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ji(o);i.call(c)}}var o=af(t,n,e,0,null,!1,!1,"",wc);return e._reactRootContainer=o,e[wt]=o.current,Gn(e.nodeType===8?e.parentNode:e),fr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=ji(u);l.call(c)}}var u=Vl(e,0,!1,null,null,!1,!1,"",wc);return e._reactRootContainer=u,e[wt]=u.current,Gn(e.nodeType===8?e.parentNode:e),fr(function(){qi(t,u,r,n)}),u}function Ki(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=ji(o);l.call(u)}}qi(t,o,e,s)}else o=zg(r,t,e,s,n);return ji(o)}Ld=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sn(t.pendingLanes);r!==0&&(ml(t,r|1),Ie(t,se()),!(B&6)&&(Zr=se()+500,Gt()))}break;case 13:fr(function(){var n=_t(e,1);if(n!==null){var s=be();et(n,e,1,s)}}),Kl(e,1)}};pl=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var r=be();et(t,e,134217728,r)}Kl(e,134217728)}};Dd=function(e){if(e.tag===13){var t=Bt(e),r=_t(e,t);if(r!==null){var n=be();et(r,e,t,n)}Kl(e,t)}};zd=function(){return W};Md=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};ia=function(e,t,r){switch(t){case"input":if(Xo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Di(n);if(!s)throw Error(C(90));gd(n),Xo(n,s)}}}break;case"textarea":yd(e,r);break;case"select":t=r.value,t!=null&&Fr(e,!!r.multiple,t,!1)}};Sd=Bl;Nd=fr;var Mg={usingClientEntryPoint:!1,Events:[ls,Or,Di,kd,jd,Bl]},xn={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fg={bundleType:xn.bundleType,version:xn.version,rendererPackageName:xn.rendererPackageName,rendererConfig:xn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pd(e),e===null?null:e.stateNode},findFiberByHostInstance:xn.findFiberByHostInstance||Dg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var As=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!As.isDisabled&&As.supportsFiber)try{Oi=As.inject(Fg),ut=As}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mg;De.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jl(t))throw Error(C(200));return Lg(e,t,null,r)};De.createRoot=function(e,t){if(!Jl(e))throw Error(C(299));var r=!1,n="",s=lf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vl(e,1,!1,null,null,r,!1,n,s),e[wt]=t.current,Gn(e.nodeType===8?e.parentNode:e),new Gl(t)};De.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Pd(t),e=e===null?null:e.stateNode,e};De.flushSync=function(e){return fr(e)};De.hydrate=function(e,t,r){if(!Vi(t))throw Error(C(200));return Ki(null,e,t,!0,r)};De.hydrateRoot=function(e,t,r){if(!Jl(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=lf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=af(t,null,e,1,r??null,s,!1,i,o),e[wt]=t.current,Gn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Hi(t)};De.render=function(e,t,r){if(!Vi(t))throw Error(C(200));return Ki(null,e,t,!1,r)};De.unmountComponentAtNode=function(e){if(!Vi(e))throw Error(C(40));return e._reactRootContainer?(fr(function(){Ki(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};De.unstable_batchedUpdates=Bl;De.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vi(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Ki(e,t,r,!1,n)};De.version="18.3.1-next-f1338f8080-20240426";function uf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uf)}catch(e){console.error(e)}}uf(),ld.exports=De;var Ug=ld.exports,cf,_c=Ug;cf=_c.createRoot,_c.hydrateRoot;/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bc="popstate";function Bg(e={}){function t(s,i){let{pathname:o="/",search:l="",hash:u=""}=vr(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),za("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=s.location.href,c=u.indexOf("#");l=c===-1?u:u.slice(0,c)}return l+"#"+(typeof i=="string"?i:ns(i))}function n(s,i){Ke(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return qg(t,r,n,e)}function Q(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ke(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Wg(){return Math.random().toString(36).substring(2,10)}function kc(e,t){return{usr:e.state,key:e.key,idx:t}}function za(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vr(t):t,state:r,key:t&&t.key||n||Wg()}}function ns({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function qg(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",u=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){l="POP";let _=d(),g=_==null?null:_-c;c=_,u&&u({action:l,location:w.location,delta:g})}function p(_,g){l="PUSH";let f=za(w.location,_,g);r&&r(f,_),c=d()+1;let m=kc(f,c),b=w.createHref(f);try{o.pushState(m,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(b)}i&&u&&u({action:l,location:w.location,delta:1})}function v(_,g){l="REPLACE";let f=za(w.location,_,g);r&&r(f,_),c=d();let m=kc(f,c),b=w.createHref(f);o.replaceState(m,"",b),i&&u&&u({action:l,location:w.location,delta:0})}function y(_){return Hg(_)}let w={get action(){return l},get location(){return e(s,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(bc,h),u=_,()=>{s.removeEventListener(bc,h),u=null}},createHref(_){return t(s,_)},createURL:y,encodeLocation(_){let g=y(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:v,go(_){return o.go(_)}};return w}function Hg(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Q(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ns(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function df(e,t,r="/"){return Vg(e,t,r,!1)}function Vg(e,t,r,n){let s=typeof t=="string"?vr(t):t,i=kt(s.pathname||"/",r);if(i==null)return null;let o=hf(e);Kg(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=s0(i);l=r0(o[u],c,n)}return l}function hf(e,t=[],r=[],n="",s=!1){let i=(o,l,u=s,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&u)return;Q(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=yt([n,d.relativePath]),p=r.concat(d);o.children&&o.children.length>0&&(Q(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),hf(o.children,t,p,h,u)),!(o.path==null&&!o.index)&&t.push({path:h,score:e0(h,o.index),routesMeta:p})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let c of ff(o.path))i(o,l,!0,c)}),t}function ff(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=ff(n.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function Kg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:t0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Gg=/^:[\w-]+$/,Jg=3,Qg=2,Yg=1,Xg=10,Zg=-2,jc=e=>e==="*";function e0(e,t){let r=e.split("/"),n=r.length;return r.some(jc)&&(n+=Zg),t&&(n+=Qg),r.filter(s=>!jc(s)).reduce((s,i)=>s+(Gg.test(i)?Jg:i===""?Yg:Xg),n)}function t0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function r0(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Si({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=Si({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:yt([i,h.pathname]),pathnameBase:l0(yt([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=yt([i,h.pathnameBase]))}return o}function Si(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=n0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:h},p)=>{if(d==="*"){let y=l[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[p];return h&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function n0(e,t=!1,r=!0){Ke(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function s0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ke(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function kt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function i0(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?vr(e):e;return{pathname:r?r.startsWith("/")?r:o0(r,t):t,search:u0(n),hash:c0(s)}}function o0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ao(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ql(e){let t=a0(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Yl(e,t,r,n=!1){let s;typeof e=="string"?s=vr(e):(s={...e},Q(!s.pathname||!s.pathname.includes("?"),Ao("?","pathname","search",s)),Q(!s.pathname||!s.pathname.includes("#"),Ao("#","pathname","hash",s)),Q(!s.search||!s.search.includes("#"),Ao("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let u=i0(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var yt=e=>e.join("/").replace(/\/\/+/g,"/"),l0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,c0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function d0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var mf=["POST","PUT","PATCH","DELETE"];new Set(mf);var h0=["GET",...mf];new Set(h0);var sn=x.createContext(null);sn.displayName="DataRouter";var Gi=x.createContext(null);Gi.displayName="DataRouterState";x.createContext(!1);var pf=x.createContext({isTransitioning:!1});pf.displayName="ViewTransition";var f0=x.createContext(new Map);f0.displayName="Fetchers";var m0=x.createContext(null);m0.displayName="Await";var rt=x.createContext(null);rt.displayName="Navigation";var cs=x.createContext(null);cs.displayName="Location";var nt=x.createContext({outlet:null,matches:[],isDataRoute:!1});nt.displayName="Route";var Xl=x.createContext(null);Xl.displayName="RouteError";function p0(e,{relative:t}={}){Q(on(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(rt),{hash:s,pathname:i,search:o}=ds(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:yt([r,i])),n.createHref({pathname:l,search:o,hash:s})}function on(){return x.useContext(cs)!=null}function St(){return Q(on(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(cs).location}var gf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vf(e){x.useContext(rt).static||x.useLayoutEffect(e)}function Ji(){let{isDataRoute:e}=x.useContext(nt);return e?P0():g0()}function g0(){Q(on(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(sn),{basename:t,navigator:r}=x.useContext(rt),{matches:n}=x.useContext(nt),{pathname:s}=St(),i=JSON.stringify(Ql(n)),o=x.useRef(!1);return vf(()=>{o.current=!0}),x.useCallback((u,c={})=>{if(Ke(o.current,gf),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=Yl(u,JSON.parse(i),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:yt([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,i,s,e])}x.createContext(null);function v0(){let{matches:e}=x.useContext(nt),t=e[e.length-1];return t?t.params:{}}function ds(e,{relative:t}={}){let{matches:r}=x.useContext(nt),{pathname:n}=St(),s=JSON.stringify(Ql(r));return x.useMemo(()=>Yl(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function y0(e,t){return yf(e,t)}function yf(e,t,r,n,s){var f;Q(on(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(rt),{matches:o}=x.useContext(nt),l=o[o.length-1],u=l?l.params:{},c=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let m=h&&h.path||"";xf(c,!h||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let p=St(),v;if(t){let m=typeof t=="string"?vr(t):t;Q(d==="/"||((f=m.pathname)==null?void 0:f.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${m.pathname}" was given in the \`location\` prop.`),v=m}else v=p;let y=v.pathname||"/",w=y;if(d!=="/"){let m=d.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(m.length).join("/")}let _=df(e,{pathname:w});Ke(h||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ke(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=k0(_&&_.map(m=>Object.assign({},m,{params:Object.assign({},u,m.params),pathname:yt([d,i.encodeLocation?i.encodeLocation(m.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?d:yt([d,i.encodeLocation?i.encodeLocation(m.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathnameBase])})),o,r,n,s);return t&&g?x.createElement(cs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},g):g}function x0(){let e=C0(),t=d0(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,o)}var w0=x.createElement(x0,null),_0=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(nt.Provider,{value:this.props.routeContext},x.createElement(Xl.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b0({routeContext:e,match:t,children:r}){let n=x.useContext(sn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(nt.Provider,{value:e},r)}function k0(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let c=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Q(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let l=!1,u=-1;if(r)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=r,v=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,d,h)=>{let p,v=!1,y=null,w=null;r&&(p=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||w0,l&&(u<0&&h===0?(xf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):u===h&&(v=!0,w=d.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,h+1)),g=()=>{let f;return p?f=y:v?f=w:d.route.Component?f=x.createElement(d.route.Component,null):d.route.element?f=d.route.element:f=c,x.createElement(b0,{match:d,routeContext:{outlet:c,matches:_,isDataRoute:r!=null},children:f})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(_0,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):g()},null)}function Zl(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j0(e){let t=x.useContext(sn);return Q(t,Zl(e)),t}function S0(e){let t=x.useContext(Gi);return Q(t,Zl(e)),t}function N0(e){let t=x.useContext(nt);return Q(t,Zl(e)),t}function eu(e){let t=N0(e),r=t.matches[t.matches.length-1];return Q(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function E0(){return eu("useRouteId")}function C0(){var n;let e=x.useContext(Xl),t=S0("useRouteError"),r=eu("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function P0(){let{router:e}=j0("useNavigate"),t=eu("useNavigate"),r=x.useRef(!1);return vf(()=>{r.current=!0}),x.useCallback(async(s,i={})=>{Ke(r.current,gf),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Sc={};function xf(e,t,r){!t&&!Sc[e]&&(Sc[e]=!0,Ke(!1,r))}x.memo(T0);function T0({routes:e,future:t,state:r,unstable_onError:n}){return yf(e,void 0,r,n,t)}function wf({to:e,replace:t,state:r,relative:n}){Q(on(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(rt);Ke(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=x.useContext(nt),{pathname:o}=St(),l=Ji(),u=Yl(e,Ql(i),o,n==="path"),c=JSON.stringify(u);return x.useEffect(()=>{l(JSON.parse(c),{replace:t,state:r,relative:n})},[l,c,n,t,r]),null}function ye(e){Q(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function R0({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){Q(!on(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=vr(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:p="default"}=r,v=x.useMemo(()=>{let y=kt(u,o);return y==null?null:{location:{pathname:y,search:c,hash:d,state:h,key:p},navigationType:n}},[o,u,c,d,h,p,n]);return Ke(v!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:x.createElement(rt.Provider,{value:l},x.createElement(cs.Provider,{children:t,value:v}))}function Ma({children:e,location:t}){return y0(Fa(e),t)}function Fa(e,t=[]){let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,Fa(n.props.children,i));return}Q(n.type===ye,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Q(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Fa(n.props.children,i)),r.push(o)}),r}var Xs="get",Zs="application/x-www-form-urlencoded";function Qi(e){return e!=null&&typeof e.tagName=="string"}function I0(e){return Qi(e)&&e.tagName.toLowerCase()==="button"}function O0(e){return Qi(e)&&e.tagName.toLowerCase()==="form"}function $0(e){return Qi(e)&&e.tagName.toLowerCase()==="input"}function A0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L0(e,t){return e.button===0&&(!t||t==="_self")&&!A0(e)}var Ls=null;function D0(){if(Ls===null)try{new FormData(document.createElement("form"),0),Ls=!1}catch{Ls=!0}return Ls}var z0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lo(e){return e!=null&&!z0.has(e)?(Ke(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zs}"`),null):e}function M0(e,t){let r,n,s,i,o;if(O0(e)){let l=e.getAttribute("action");n=l?kt(l,t):null,r=e.getAttribute("method")||Xs,s=Lo(e.getAttribute("enctype"))||Zs,i=new FormData(e)}else if(I0(e)||$0(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(n=u?kt(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Xs,s=Lo(e.getAttribute("formenctype"))||Lo(l.getAttribute("enctype"))||Zs,i=new FormData(l,e),!D0()){let{name:c,type:d,value:h}=e;if(d==="image"){let p=c?`${c}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else c&&i.append(c,h)}}else{if(Qi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Xs,n=null,s=Zs,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tu(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function F0(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&kt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function U0(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B0(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function W0(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await U0(i,r);return o.links?o.links():[]}return[]}));return K0(n.flat(1).filter(B0).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Nc(e,t,r,n,s,i){let o=(u,c)=>r[c]?u.route.id!==r[c].route.id:!0,l=(u,c)=>{var d;return r[c].pathname!==u.pathname||((d=r[c].route.path)==null?void 0:d.endsWith("*"))&&r[c].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,c)=>o(u,c)||l(u,c)):i==="data"?t.filter((u,c)=>{var h;let d=n.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(o(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function q0(e,t,{includeHydrateFallback:r}={}){return H0(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function H0(e){return[...new Set(e)]}function V0(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function K0(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(V0(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function _f(){let e=x.useContext(sn);return tu(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function G0(){let e=x.useContext(Gi);return tu(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ru=x.createContext(void 0);ru.displayName="FrameworkContext";function bf(){let e=x.useContext(ru);return tu(e,"You must render this element inside a <HydratedRouter> element"),e}function J0(e,t){let r=x.useContext(ru),[n,s]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=t,p=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=g=>{g.forEach(f=>{o(f.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return p.current&&_.observe(p.current),()=>{_.disconnect()}}},[e]),x.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{s(!0)},y=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:wn(l,v),onBlur:wn(u,y),onMouseEnter:wn(c,v),onMouseLeave:wn(d,y),onTouchStart:wn(h,v)}]:[!1,p,{}]}function wn(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Q0({page:e,...t}){let{router:r}=_f(),n=x.useMemo(()=>df(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?x.createElement(X0,{page:e,matches:n,...t}):null}function Y0(e){let{manifest:t,routeModules:r}=bf(),[n,s]=x.useState([]);return x.useEffect(()=>{let i=!1;return W0(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function X0({page:e,matches:t,...r}){let n=St(),{manifest:s,routeModules:i}=bf(),{basename:o}=_f(),{loaderData:l,matches:u}=G0(),c=x.useMemo(()=>Nc(e,t,u,s,n,"data"),[e,t,u,s,n]),d=x.useMemo(()=>Nc(e,t,u,s,n,"assets"),[e,t,u,s,n]),h=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,w=!1;if(t.forEach(g=>{var m;let f=s.routes[g.route.id];!f||!f.hasLoader||(!c.some(b=>b.route.id===g.route.id)&&g.route.id in l&&((m=i[g.route.id])!=null&&m.shouldRevalidate)||f.hasClientLoader?w=!0:y.add(g.route.id))}),y.size===0)return[];let _=F0(e,o,"data");return w&&y.size>0&&_.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[_.pathname+_.search]},[o,l,n,s,c,t,e,i]),p=x.useMemo(()=>q0(d,s),[d,s]),v=Y0(d);return x.createElement(x.Fragment,null,h.map(y=>x.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),p.map(y=>x.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),v.map(({key:y,link:w})=>x.createElement("link",{key:y,nonce:r.nonce,...w})))}function Z0(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var kf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kf&&(window.__reactRouterVersion="7.9.3")}catch{}function ev({basename:e,children:t,window:r}){let n=x.useRef();n.current==null&&(n.current=Bg({window:r,v5Compat:!0}));let s=n.current,[i,o]=x.useState({action:s.action,location:s.location}),l=x.useCallback(u=>{x.startTransition(()=>o(u))},[o]);return x.useLayoutEffect(()=>s.listen(l),[s,l]),x.createElement(R0,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var jf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sf=x.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:h,...p},v){let{basename:y}=x.useContext(rt),w=typeof c=="string"&&jf.test(c),_,g=!1;if(typeof c=="string"&&w&&(_=c,kf))try{let P=new URL(window.location.href),$=c.startsWith("//")?new URL(P.protocol+c):new URL(c),Y=kt($.pathname,y);$.origin===P.origin&&Y!=null?c=Y+$.search+$.hash:g=!0}catch{Ke(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let f=p0(c,{relative:s}),[m,b,N]=J0(n,p),S=sv(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:h});function k(P){t&&t(P),P.defaultPrevented||S(P)}let j=x.createElement("a",{...p,...N,href:_||f,onClick:g||i?t:k,ref:Z0(v,b),target:u,"data-discover":!w&&r==="render"?"true":void 0});return m&&!w?x.createElement(x.Fragment,null,j,x.createElement(Q0,{page:f})):j});Sf.displayName="Link";var tv=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:u,...c},d){let h=ds(o,{relative:c.relative}),p=St(),v=x.useContext(Gi),{navigator:y,basename:w}=x.useContext(rt),_=v!=null&&uv(h)&&l===!0,g=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,f=p.pathname,m=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(f=f.toLowerCase(),m=m?m.toLowerCase():null,g=g.toLowerCase()),m&&w&&(m=kt(m,w)||m);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let N=f===g||!s&&f.startsWith(g)&&f.charAt(b)==="/",S=m!=null&&(m===g||!s&&m.startsWith(g)&&m.charAt(g.length)==="/"),k={isActive:N,isPending:S,isTransitioning:_},j=N?t:void 0,P;typeof n=="function"?P=n(k):P=[n,N?"active":null,S?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(k):i;return x.createElement(Sf,{...c,"aria-current":j,className:P,ref:d,style:$,to:o,viewTransition:l},typeof u=="function"?u(k):u)});tv.displayName="NavLink";var rv=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=Xs,action:l,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:h,...p},v)=>{let y=av(),w=lv(l,{relative:c}),_=o.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&jf.test(l),f=m=>{if(u&&u(m),m.defaultPrevented)return;m.preventDefault();let b=m.nativeEvent.submitter,N=(b==null?void 0:b.getAttribute("formmethod"))||o;y(b||m.currentTarget,{fetcherKey:t,method:N,navigate:r,replace:s,state:i,relative:c,preventScrollReset:d,viewTransition:h})};return x.createElement("form",{ref:v,method:_,action:w,onSubmit:n?u:f,...p,"data-discover":!g&&e==="render"?"true":void 0})});rv.displayName="Form";function nv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nf(e){let t=x.useContext(sn);return Q(t,nv(e)),t}function sv(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=Ji(),u=St(),c=ds(e,{relative:i});return x.useCallback(d=>{if(L0(d,t)){d.preventDefault();let h=r!==void 0?r:ns(u)===ns(c);l(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[u,l,c,r,n,t,e,s,i,o])}var iv=0,ov=()=>`__${String(++iv)}__`;function av(){let{router:e}=Nf("useSubmit"),{basename:t}=x.useContext(rt),r=E0();return x.useCallback(async(n,s={})=>{let{action:i,method:o,encType:l,formData:u,body:c}=M0(n,t);if(s.navigate===!1){let d=s.fetcherKey||ov();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function lv(e,{relative:t}={}){let{basename:r}=x.useContext(rt),n=x.useContext(nt);Q(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...ds(e||".",{relative:t})},o=St();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:yt([r,i.pathname])),ns(i)}function uv(e,{relative:t}={}){let r=x.useContext(pf);Q(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Nf("useViewTransitionState"),s=ds(e,{relative:t});if(!r.isTransitioning)return!1;let i=kt(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=kt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Si(s.pathname,o)!=null||Si(s.pathname,i)!=null}const cv="modulepreload",dv=function(e){return"/LovelySexDay/"+e},Ec={},hs=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=dv(u),u in Ec)return;Ec[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":cv,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},hv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>an);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class nu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Cc extends nu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pc extends nu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tc extends nu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ua;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ua||(Ua={}));var fv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class mv{constructor(t,{headers:r={},customFetch:n,region:s=Ua.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=hv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return fv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o,signal:l}=r;let u={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let h;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(u["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(u["Content-Type"]="application/json",h=JSON.stringify(o)));const p=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h,signal:l}).catch(_=>{throw _.name==="AbortError"?_:new Cc(_)}),v=p.headers.get("x-relay-error");if(v&&v==="true")throw new Pc(p);if(!p.ok)throw new Tc(p);let y=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield p.json():y==="application/octet-stream"?w=yield p.blob():y==="text/event-stream"?w=p:y==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Cc(s)}:{data:null,error:s,response:s instanceof Tc||s instanceof Pc?s.context:void 0}}})}}var Ce={},su={},Yi={},fs={},Xi={},Zi={},pv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},en=pv();const gv=en.fetch,Ef=en.fetch.bind(en),Cf=en.Headers,vv=en.Request,yv=en.Response,an=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cf,Request:vv,Response:yv,default:Ef,fetch:gv},Symbol.toStringTag,{value:"Module"})),xv=pm(an);var eo={};Object.defineProperty(eo,"__esModule",{value:!0});let wv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};eo.default=wv;var Pf=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zi,"__esModule",{value:!0});const _v=Pf(xv),bv=Pf(eo);let kv=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=_v.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u,c;let d=null,h=null,p=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const _=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");_&&g&&g.length>1&&(p=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,v=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const _=await i.text();try{d=JSON.parse(_),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,y="OK")}catch{i.status===404&&_===""?(v=204,y="No Content"):d={message:_}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,y="OK"),d&&this.shouldThrowOnError)throw new bv.default(d)}return{error:d,data:h,count:p,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Zi.default=kv;var jv=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xi,"__esModule",{value:!0});const Sv=jv(Zi);let Nv=class extends Sv.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Xi.default=Nv;var Ev=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fs,"__esModule",{value:!0});const Cv=Ev(Xi);let Pv=class extends Cv.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};fs.default=Pv;var Tv=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yi,"__esModule",{value:!0});const _n=Tv(fs);let Rv=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new _n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new _n.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new _n.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new _n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new _n.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Yi.default=Rv;var Tf=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(su,"__esModule",{value:!0});const Iv=Tf(Yi),Ov=Tf(fs);let $v=class Rf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Iv.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Rf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const u=new URL(`${this.url}/rpc/${t}`);let c;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{u.searchParams.append(h,p)})):(l="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Ov.default({method:l,url:u,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};su.default=$v;var ln=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const If=ln(su);Ce.PostgrestClient=If.default;const Of=ln(Yi);Ce.PostgrestQueryBuilder=Of.default;const $f=ln(fs);Ce.PostgrestFilterBuilder=$f.default;const Af=ln(Xi);Ce.PostgrestTransformBuilder=Af.default;const Lf=ln(Zi);Ce.PostgrestBuilder=Lf.default;const Df=ln(eo);Ce.PostgrestError=Df.default;var Av=Ce.default={PostgrestClient:If.default,PostgrestQueryBuilder:Of.default,PostgrestFilterBuilder:$f.default,PostgrestTransformBuilder:Af.default,PostgrestBuilder:Lf.default,PostgrestError:Df.default};const{PostgrestClient:Lv,PostgrestQueryBuilder:Aw,PostgrestFilterBuilder:Lw,PostgrestTransformBuilder:Dw,PostgrestBuilder:zw,PostgrestError:Mw}=Av;class Dv{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const zv="2.15.5",Mv=`realtime-js/${zv}`,Fv="1.0.0",Ba=1e4,Uv=1e3,Bv=100;var Dn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dn||(Dn={}));var ae;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ae||(ae={}));var Ye;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ye||(Ye={}));var Wa;(function(e){e.websocket="websocket"})(Wa||(Wa={}));var nr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(nr||(nr={}));class Wv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const u=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class zf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(H||(H={}));const Rc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=qv(o,e,t,s),i),{})},qv=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Mf(i,o):qa(o)},Mf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Gv(t,r)}switch(e){case H.bool:return Hv(t);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return Vv(t);case H.json:case H.jsonb:return Kv(t);case H.timestamp:return Jv(t);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return qa(t);default:return qa(t)}},qa=e=>e,Hv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Vv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Kv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Gv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Mf(t,l))}return e},Jv=e=>typeof e=="string"?e.replace(" ","T"):e,Ff=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Do{constructor(t,r,n={},s=Ba){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ic;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ic||(Ic={}));class zn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=zn.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(_=>_.presence_ref),v=h.map(_=>_.presence_ref),y=d.filter(_=>v.indexOf(_.presence_ref)<0),w=h.filter(_=>p.indexOf(_.presence_ref)<0);y.length>0&&(l[c]=y),w.length>0&&(u[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const h=t[l].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...p)}n(l,d,u)}),this.map(o,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Oc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Oc||(Oc={}));var Mn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mn||(Mn={}));var ft;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class iu{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Do(this,Ye.join,this.params,this.timeout),this.rejoinTimer=new zf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ae.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ye.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new zn(this),this.broadcastEndpointURL=Ff(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ae.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Mn.PRESENCE]&&this.bindings[Mn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(ft.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(ft.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){t==null||t(ft.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let f=0;f<_;f++){const m=w[f],{filter:{event:b,schema:N,table:S,filter:k}}=m,j=v&&v[f];if(j&&j.event===b&&j.schema===N&&j.table===S&&j.filter===k)g.push(Object.assign(Object.assign({},m),{id:j.id}));else{this.unsubscribe(),this.state=ae.errored,t==null||t(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ft.SUBSCRIBED);return}}).receive("error",v=>{this.state=ae.errored,t==null||t(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ae.joined&&t===Mn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ae.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ye.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Do(this,Ye.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ae.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Do(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Bv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=Ye;if(n&&[l,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,_;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(w=v.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,w,_,g,f,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const b=v.id,N=(y=v.filter)===null||y===void 0?void 0:y.event;return b&&((w=r.ids)===null||w===void 0?void 0:w.includes(b))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(f=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return b==="*"||b===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:w,table:_,commit_timestamp:g,type:f,errors:m}=y;p=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(y))}v.callback(p,n)})}_isClosed(){return this.state===ae.closed}_isJoined(){return this.state===ae.joined}_isJoining(){return this.state===ae.joining}_isLeaving(){return this.state===ae.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&iu.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ye.close,{},t)}_onError(t){this._on(Ye.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ae.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Rc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Rc(t.columns,t.old_record)),r}}const zo=()=>{},Ds={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qv=[1e3,2e3,5e3,1e4],Yv=1e4,Xv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zv{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ba,this.transport=null,this.heartbeatIntervalMs=Ds.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zo,this.ref=0,this.reconnectTimer=null,this.logger=zo,this.conn=null,this.sendBuffer=[],this.serializer=new Wv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>hs(async()=>{const{default:l}=await Promise.resolve().then(()=>an);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Wa.websocket}`,this.httpEndpoint=Ff(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fv}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dn.connecting:return nr.Connecting;case Dn.open:return nr.Open;case Dn.closing:return nr.Closing;default:return nr.Closed}}isConnected(){return this.connectionState()===nr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new iu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Uv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ds.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ye.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Xv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Mv};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ye.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new zf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ds.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,u,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ba,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ds.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:zo,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:h=>Qv[h-1]||Yv,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(h,p)=>p(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ou extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ie(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ey extends ou{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ha extends ou{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var ty=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Uf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>an);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ry=()=>ty(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hs(()=>Promise.resolve().then(()=>an),void 0)).Response:Response}),Va=e=>{if(Array.isArray(e))return e.map(r=>Va(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Va(n)}),t},ny=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var yr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Mo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sy=(e,t,r)=>yr(void 0,void 0,void 0,function*(){const n=yield ry();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new ey(Mo(s),i,o))}).catch(s=>{t(new Ha(Mo(s),s))}):t(new Ha(Mo(e),e))}),iy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(ny(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function ms(e,t,r,n,s,i){return yr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,iy(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>sy(u,l,n))})})}function Ni(e,t,r,n){return yr(this,void 0,void 0,function*(){return ms(e,"GET",t,r,n)})}function at(e,t,r,n,s){return yr(this,void 0,void 0,function*(){return ms(e,"POST",t,n,s,r)})}function Ka(e,t,r,n,s){return yr(this,void 0,void 0,function*(){return ms(e,"PUT",t,n,s,r)})}function oy(e,t,r,n){return yr(this,void 0,void 0,function*(){return ms(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Bf(e,t,r,n,s){return yr(this,void 0,void 0,function*(){return ms(e,"DELETE",t,n,s,r)})}var ay=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class ly{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ay(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ie(t))return{data:null,error:t};throw t}})}}var uy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class cy{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new ly(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return uy(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ie(t))return{data:null,error:t};throw t}})}}var Ne=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const dy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$c={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hy{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Uf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Ne(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},$c),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(t=="PUT"?Ka:at)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:$c.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Ka(this.fetch,l.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ie(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Ne(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield at(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ou("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:yield at(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield at(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield at(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ne(this,void 0,void 0,function*(){try{const s=yield at(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),u=()=>Ni(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new cy(u,this.shouldThrowOnError)}info(t){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ni(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Va(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}exists(t){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield oy(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n)&&n instanceof Ha){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Bf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},dy),r),{prefix:t||""});return{data:yield at(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}listV2(t,r){return Ne(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield at(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const fy="2.12.2",my={"X-Client-Info":`storage-js/${fy}`};var _r=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class py{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},my),r),this.fetch=Uf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return _r(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ie(t))return{data:null,error:t};throw t}})}getBucket(t){return _r(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return _r(this,void 0,void 0,function*(){try{return{data:yield at(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return _r(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}emptyBucket(t){return _r(this,void 0,void 0,function*(){try{return{data:yield at(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _r(this,void 0,void 0,function*(){try{return{data:yield Bf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}})}}class gy extends py{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new hy(this.url,this.headers,t,this.fetch)}}const vy="2.58.0";let En="";typeof Deno<"u"?En="deno":typeof document<"u"?En="web":typeof navigator<"u"&&navigator.product==="ReactNative"?En="react-native":En="node";const yy={"X-Client-Info":`supabase-js-${En}/${vy}`},xy={headers:yy},wy={schema:"public"},_y={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},by={};var ky=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const jy=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ef:t=fetch,(...r)=>t(...r)},Sy=()=>typeof Headers>"u"?Cf:Headers,Ny=(e,t,r)=>{const n=jy(r),s=Sy();return(i,o)=>ky(void 0,void 0,void 0,function*(){var l;const u=(l=yield t())!==null&&l!==void 0?l:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Ey=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};function Cy(e){return e.endsWith("/")?e:e+"/"}function Py(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:u,auth:c,realtime:d,global:h}=t,p={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Ey(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function Ty(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Cy(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Wf="2.72.0",Nr=30*1e3,Ga=3,Fo=Ga*Nr,Ry="http://localhost:9999",Iy="supabase.auth.token",Oy={"X-Client-Info":`gotrue-js/${Wf}`},Ja="X-Supabase-Api-Version",qf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$y=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ay=10*60*1e3;class au extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ly extends au{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Dy(e){return D(e)&&e.name==="AuthApiError"}class Hf extends au{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Jt extends au{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ct extends Jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zy(e){return D(e)&&e.name==="AuthSessionMissingError"}class bn extends Jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zs extends Jt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ms extends Jt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function My(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ac extends Jt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qa extends Jt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Uo(e){return D(e)&&e.name==="AuthRetryableFetchError"}class Lc extends Jt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ya extends Jt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dc=` 	
\r=`.split(""),Fy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Dc.length;t+=1)e[Dc[t].charCodeAt(0)]=-2;for(let t=0;t<Ei.length;t+=1)e[Ei[t].charCodeAt(0)]=t;return e})();function zc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ei[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ei[n]),t.queuedBits-=6}}function Vf(e,t,r){const n=Fy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Mc(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Wy(o,n,r)};for(let o=0;o<e.length;o+=1)Vf(e.charCodeAt(o),s,i);return t.join("")}function Uy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function By(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Uy(n,t)}}function Wy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function qy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Vf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Hy(e){const t=[];return By(e,r=>t.push(r)),new Uint8Array(t)}function Vy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>zc(s,r,n)),zc(null,r,n),t.join("")}function Ky(e){return Math.round(Date.now()/1e3)+e}function Gy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",Xt={tested:!1,writable:!1},Kf=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xt.tested)return Xt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xt.tested=!0,Xt.writable=!0}catch{Xt.tested=!0,Xt.writable=!1}return Xt.writable};function Jy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Gf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>an);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Qy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Er=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Zt=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Et=async(e,t)=>{await e.removeItem(t)};class to{constructor(){this.promise=new to.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}to.promiseConstructor=Promise;function Bo(e){const t=e.split(".");if(t.length!==3)throw new Ya("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!$y.test(t[n]))throw new Ya("JWT not in base64url format");return{header:JSON.parse(Mc(t[0])),payload:JSON.parse(Mc(t[1])),signature:qy(t[2]),raw:{header:t[0],payload:t[1]}}}async function Yy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Xy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Zy(e){return("0"+e.toString(16)).substr(-2)}function ex(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Zy).join("")}async function tx(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function rx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await tx(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function br(e,t,r=!1){const n=ex();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Er(e,`${t}-code-verifier`,s);const i=await rx(n);return[i,n===i?"plain":"s256"]}const nx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sx(e){const t=e.headers.get(Ja);if(!t||!t.match(nx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ix(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ox(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ax=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kr(e){if(!ax.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wo(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fc(e){return JSON.parse(JSON.stringify(e))}var lx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const rr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ux=[502,503,504];async function Uc(e){var t;if(!Qy(e))throw new Qa(rr(e),0);if(ux.includes(e.status))throw new Qa(rr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Hf(rr(i),i)}let n;const s=sx(e);if(s&&s.getTime()>=qf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Lc(rr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Lc(rr(r),e.status,r.weak_password.reasons);throw new Ly(rr(r),e.status||500,n)}const cx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function M(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ja]||(i[Ja]=qf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await dx(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function dx(e,t,r,n,s,i){const o=cx(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(u){throw console.error(u),new Qa(rr(u),0)}if(l.ok||await Uc(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Uc(u)}}function it(e){var t;let r=null;px(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ky(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Bc(e){const t=it(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ot(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hx(e){return{data:e,error:null}}function fx(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=lx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function mx(e){return e}function px(e){return e.access_token&&e.refresh_token&&e.expires_in}const qo=["global","local","others"];var gx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class vx{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Gf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=qo[0]){if(qo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qo.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ot})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=gx(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:fx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(D(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ot})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mx});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);c[`${_}Page`]=w}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){kr(t);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ot})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){kr(t);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ot})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){kr(t);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ot})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){kr(t.userId);try{const{data:r,error:n}=await M(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteFactor(t){kr(t.userId),kr(t.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}function Wc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function yx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jr={debug:!!(globalThis&&Kf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class xx extends Jf{}async function wx(e,t,r){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new xx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Qf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _x(e){return parseInt(e,16)}function bx(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function kx(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:u,resources:c,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Qf(e.address),y=d?`${d}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${y} wants you to sign in with your Ethereum account:
${v}

${w}`;let g=`URI: ${h}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),u&&(g+=`
Request ID: ${u}`),c){let f=`
Resources:`;for(const m of c){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);f+=`
- ${m}`}g+=f}return`${_}
${g}`}yx();const jx={url:Ry,storageKey:Iy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Oy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qc(e,t,r){return await r()}const Sr={};class ss{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ss.nextInstanceID,ss.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},jx),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Gf(s.fetch),this.lock=s.lock||qc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Me()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=wx:this.lock=qc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Kf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Wc(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Sr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Sr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Jy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Me()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),My(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return D(r)?{error:r}:{error:new Hf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:it}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await br(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:y},xform:it})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:it})}else throw new zs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bc})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bc})}else throw new zs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new bn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,u,c,d,h,p;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:w,wallet:_,statement:g,options:f}=t;let m;if(Me())if(typeof _=="object")m=_;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")m=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=_}const b=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href),N=await m.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Qf(N[0]);let k=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const P=await m.request({method:"eth_chainId"});k=_x(P)}const j={domain:b.host,address:S,statement:g,uri:b.href,version:"1",chainId:k,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=f==null?void 0:f.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=kx(j),y=await m.request({method:"personal_sign",params:[bx(v),S]})}try{const{data:w,error:_}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:it});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new bn}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(D(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(t){var r,n,s,i,o,l,u,c,d,h,p,v;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:_,wallet:g,statement:f,options:m}=t;let b;if(Me())if(typeof g=="object")b=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))b=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const N=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const S=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),f?{statement:f}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),w=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${N.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await b.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:_,error:g}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Vy(w)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:it});if(g)throw g;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new bn}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:g})}catch(_){if(D(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await Zt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:it});if(await Et(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new bn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:it}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new bn}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await br(this.storage,this.storageKey));const{error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new zs("You must provide either an email or phone number.")}catch(l){if(D(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:it});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await br(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:hx})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ct;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(D(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await M(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await M(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new zs("You must provide either an email or phone number and a type")}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Fo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Zt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Wo()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ot}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ot})})}catch(r){if(D(r))return zy(r)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ct;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await br(this.storage,this.storageKey));const{data:c,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Ot});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ct;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Bo(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(D(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ct;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Me())throw new Ms("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ms(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ac("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ms("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ac("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!o||!c)throw new Ms("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;u&&(p=parseInt(u));const v=p-d;v*1e3<=Nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=p-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,d);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(D(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Zt(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Dy(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Gy(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await br(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,u,c,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Me()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(D(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Xy(async s=>(s>0&&await Yy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:it})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Uo(i)&&Date.now()+o-n<Nr})}catch(n){if(this._debug(r,"error",n),D(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Me()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Zt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Zt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Er(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Wo()}else if(s&&!s.user&&!s.user){const o=await Zt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Et(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,s)):s.user=Wo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Fo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Fo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Uo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new to;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return Uo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Er(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Fc(s);await Er(this.storage,this.storageKey,i)}else{const s=Fc(r);await Er(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Nr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Nr}ms, refresh threshold is ${Ga} ticks`),s<=Ga&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Jf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await br(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await M(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Bo(s.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Ay>s)return n;const{data:i,error:o}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:u}}=Bo(n);r!=null&&r.allowExpired||ix(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=ox(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Hy(`${l}.${u}`)))throw new Ya("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}ss.nextInstanceID=0;const Sx=ss;class Nx extends Sx{constructor(t){super(t)}}var Ex=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class Cx{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=Ty(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:wy,realtime:by,auth:Object.assign(Object.assign({},_y),{storageKey:u}),global:xy},d=Py(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Ny(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Lv(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new gy(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new mv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Ex(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:u,debug:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nx({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Zv(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Px=(e,t,r)=>new Cx(e,t,r);function Tx(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Tx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hc="lovely_session_id",mr=()=>{let e=localStorage.getItem(Hc);return e||(e=`session_${Date.now()}_${Math.random().toString(36).substring(2)}`,localStorage.setItem(Hc,e)),e},Rx="https://wvqlnlcszlgmqboyhavt.supabase.co",Ix="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind2cWxubGNzemxnbXFib3loYXZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1NDAxMDgsImV4cCI6MjA3NTExNjEwOH0.czlU3pKqtgbjj_tOIRmdBsmTO-derqYtbgmhzNYVdv0",O=Px(Rx,Ix,{global:{headers:{"x-session-id":mr()}}}),Ci="lovely-sex-day",ro=async(e,t)=>{const r=e.name.split(".").pop(),n=`${Math.random().toString(36).substring(2)}.${r}`,s=`${t}/${n}`,{error:i}=await O.storage.from(Ci).upload(s,e);if(i)throw i;const{data:o}=O.storage.from(Ci).getPublicUrl(s);return o.publicUrl},Pi=async e=>{const t=e.split(`${Ci}/`)[1];if(!t)return;const{error:r}=await O.storage.from(Ci).remove([t]);if(r)throw r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ox={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...c},d)=>x.createElement("svg",{ref:d,...Ox,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${$x(e)}`,l].join(" "),...c},[...t.map(([h,p])=>x.createElement(h,p)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=U("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=U("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=U("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=U("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=U("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=U("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=U("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=U("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=U("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=U("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=U("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=U("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=U("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=U("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=U("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=U("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=U("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=U("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=U("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=U("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=U("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=U("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=U("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=U("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sm="lovely_cart",gs=()=>{const e=localStorage.getItem(sm);return e?JSON.parse(e):[]},io=e=>{localStorage.setItem(sm,JSON.stringify(e))},cu=(e,t)=>{const r=gs(),n=r.find(s=>s.product.id===e.id);n?n.quantity+=1:r.push({product:e,quantity:1,promotion:t}),io(r),window.dispatchEvent(new CustomEvent("cart-updated"))},im=e=>{const r=gs().filter(n=>n.product.id!==e);io(r),window.dispatchEvent(new CustomEvent("cart-updated"))},Gc=(e,t)=>{const r=gs(),n=r.find(s=>s.product.id===e);n&&(t<=0?im(e):(n.quantity=t,io(r),window.dispatchEvent(new CustomEvent("cart-updated"))))},Vx=()=>{io([]),window.dispatchEvent(new CustomEvent("cart-updated"))},Jc=e=>e.reduce((t,r)=>{var s;const n=((s=r.promotion)==null?void 0:s.discount_price)||r.product.price;return t+n*r.quantity},0),Kx=()=>gs().reduce((t,r)=>t+r.quantity,0),om=({isOpen:e,onClose:t,children:r,title:n,maxWidth:s="md"})=>{if(x.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const i={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overlay animate-fade-in",onClick:t}),a.jsx("div",{className:"modal animate-fade-in",children:a.jsxs("div",{className:`modal-content animate-scale-in ${i[s]} w-full`,children:[n&&a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[a.jsx("h3",{className:"text-xl font-display font-semibold text-neutral-900",children:n}),a.jsx("button",{onClick:t,className:"btn-icon","aria-label":"Close",children:a.jsx(dt,{className:"w-5 h-5"})})]}),!n&&a.jsx("button",{onClick:t,className:"absolute top-4 right-4 btn-icon z-10 text-black","aria-label":"Close",children:a.jsx(dt,{className:"w-5 h-5"})}),a.jsx("div",{className:"overflow-y-auto flex-1",children:r})]})})]})},el=({children:e,variant:t="primary",size:r="md",fullWidth:n=!1,className:s="",...i})=>{const o={primary:"btn-primary",secondary:"btn-secondary",outline:"btn-outline",ghost:"btn-ghost"},l={sm:"px-6 py-3 text-sm",md:"px-8 py-4 text-base",lg:"px-10 py-5 text-lg"};return a.jsx("button",{className:`${o[t]} ${l[r]} ${n?"w-full":""} ${s}`,...i,children:e})},Gx=({isOpen:e,onClose:t})=>{const[r,n]=x.useState([]),[s,i]=x.useState(!1);x.useEffect(()=>{e&&o()},[e]);const o=async()=>{i(!0);const c=mr(),{data:d}=await O.from("favorites").select("id, product_id").eq("session_id",c);if(d&&d.length>0){const h=d.map(w=>w.product_id),{data:p}=await O.from("products").select("*").in("id",h),{data:v}=await O.from("promotions").select("*").in("product_id",h).eq("is_active",!0),y=d.map(w=>{const _=p==null?void 0:p.find(f=>f.id===w.product_id),g=v==null?void 0:v.find(f=>f.product_id===w.product_id);return{id:w.id,product:_,promotion:g}}).filter(w=>w.product);n(y)}else n([]);i(!1)},l=async c=>{await O.from("favorites").delete().eq("id",c),o()},u=c=>{cu(c.product,c.promotion)};return a.jsx(om,{isOpen:e,onClose:t,title:"Meus Favoritos",maxWidth:"lg",children:a.jsx("div",{className:"p-6",children:s?a.jsx("div",{className:"text-center py-8 text-neutral-500",children:"Carregando..."}):r.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-neutral-500 mb-4",children:"Nenhum produto favoritado ainda"}),a.jsx(el,{onClick:t,children:"Explorar Produtos"})]}):a.jsx("div",{className:"space-y-4",children:r.map(c=>{const d=c.promotion&&new Date(c.promotion.starts_at)<=new Date&&(!c.promotion.ends_at||new Date(c.promotion.ends_at)>=new Date),h=d?c.promotion.discount_price:c.product.price;return a.jsxs("div",{className:"flex gap-4 p-5 bg-neutral-50 rounded-2xl hover:bg-neutral-100 hover:shadow-lg transition-all duration-500 transform hover:-translate-y-1",children:[a.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-white rounded-2xl overflow-hidden shadow-md",children:c.product.image_url?a.jsx("img",{src:c.product.image_url,alt:c.product.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-400 text-xs",children:"No Image"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-neutral-900 line-clamp-1 mb-1",children:c.product.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d&&a.jsxs("span",{className:"text-sm text-neutral-400 line-through",children:["R$ ",c.product.price.toFixed(2)]}),a.jsxs("span",{className:"text-lg font-bold text-black",children:["R$ ",h.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("button",{onClick:()=>u(c),className:"p-2 rounded-full bg-black text-white hover:bg-gray-800 transition-all duration-300 transform hover:scale-110 shadow-md","aria-label":"Add to cart",children:a.jsx(no,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>l(c.id),className:"p-2 rounded-full bg-neutral-200 text-neutral-700 hover:bg-rose hover:text-white transition-all duration-300 transform hover:scale-110 shadow-sm","aria-label":"Remove from favorites",children:a.jsx(xr,{className:"w-4 h-4"})})]})]},c.id)})})})})},Jx=({isOpen:e,onClose:t})=>{const[r,n]=x.useState([]),[s,i]=x.useState("");x.useEffect(()=>{e&&(o(),l());const d=()=>{e&&o()};return window.addEventListener("cart-updated",d),()=>window.removeEventListener("cart-updated",d)},[e]);const o=()=>{n(gs())},l=async()=>{const{data:d}=await O.from("site_settings").select("whatsapp_number").maybeSingle();d!=null&&d.whatsapp_number&&i(d.whatsapp_number)},u=()=>{if(!s){alert("WhatsApp no configurado");return}let d=`Ol! Gostaria de fazer um pedido:

`;r.forEach(v=>{var w;const y=((w=v.promotion)==null?void 0:w.discount_price)||v.product.price;d+=` ${v.product.name}
`,d+=`  Quantidade: ${v.quantity}
`,d+=`  Preo: R$ ${(y*v.quantity).toFixed(2)}

`}),d+=`*Total: R$ ${Jc(r).toFixed(2)}*`;const h=encodeURIComponent(d),p=`https://wa.me/${s.replace(/\D/g,"")}?text=${h}`;window.open(p,"_blank"),Vx(),t()},c=Jc(r);return a.jsx(om,{isOpen:e,onClose:t,title:"Meu Carrinho",maxWidth:"lg",children:a.jsx("div",{className:"p-6",children:r.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-neutral-500 mb-4",children:"Seu carrinho est vazio"}),a.jsx(el,{onClick:t,children:"Explorar Produtos"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-4 mb-6",children:r.map(d=>{var v;const h=((v=d.promotion)==null?void 0:v.discount_price)||d.product.price,p=!!d.promotion;return a.jsxs("div",{className:"flex gap-4 p-5 bg-neutral-50 rounded-2xl hover:shadow-lg transition-all duration-500",children:[a.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-white rounded-2xl overflow-hidden shadow-md",children:d.product.image_url?a.jsx("img",{src:d.product.image_url,alt:d.product.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-400 text-xs",children:"No Image"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-neutral-900 line-clamp-2 mb-1",children:d.product.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p&&a.jsxs("span",{className:"text-sm text-neutral-400 line-through",children:["R$ ",d.product.price.toFixed(2)]}),a.jsxs("span",{className:"text-lg font-bold text-black",children:["R$ ",h.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-full border border-neutral-200 shadow-sm",children:[a.jsx("button",{onClick:()=>Gc(d.product.id,d.quantity-1),className:"p-2 hover:bg-neutral-100 rounded-l-full transition-all duration-300 transform hover:scale-110 text-black","aria-label":"Decrease quantity",children:a.jsx(Wx,{className:"w-4 h-4"})}),a.jsx("span",{className:"font-semibold min-w-[2rem] text-center text-black",children:d.quantity}),a.jsx("button",{onClick:()=>Gc(d.product.id,d.quantity+1),className:"p-2 hover:bg-neutral-100 rounded-r-full transition-all duration-300 transform hover:scale-110 text-black","aria-label":"Increase quantity",children:a.jsx(un,{className:"w-4 h-4"})})]}),a.jsx("button",{onClick:()=>im(d.product.id),className:"p-2 rounded-full bg-neutral-200 text-neutral-700 hover:bg-rose hover:text-white transition-all duration-300 transform hover:scale-110 shadow-sm","aria-label":"Remove from cart",children:a.jsx(xr,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Subtotal"}),a.jsxs("p",{className:"text-lg font-bold text-neutral-900",children:["R$ ",(h*d.quantity).toFixed(2)]})]})]},d.product.id)})}),a.jsxs("div",{className:"border-t border-neutral-200 pt-4 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-neutral-700",children:"Subtotal"}),a.jsxs("span",{className:"text-lg font-semibold text-black",children:["R$ ",c.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xl font-display font-bold text-neutral-900",children:"Total"}),a.jsxs("span",{className:"text-2xl font-display font-bold text-black",children:["R$ ",c.toFixed(2)]})]})]}),a.jsxs(el,{onClick:u,variant:"secondary",fullWidth:!0,size:"lg",children:[a.jsx(em,{className:"w-5 h-5"}),"Finalizar pelo WhatsApp"]})]})})})},tl=x.forwardRef(({label:e,error:t,className:r="",...n},s)=>a.jsxs("div",{className:"w-full",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:e}),a.jsx("input",{ref:s,className:`input-field ${t?"border-rose":""} ${r}`,...n}),t&&a.jsx("p",{className:"mt-1 text-sm text-rose",children:t})]}));tl.displayName="Input";const Qx=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(0),[s,i]=x.useState(0),[o,l]=x.useState(!1),[u,c]=x.useState(!1),[d,h]=x.useState(!1),[p,v]=x.useState(!1),[y,w]=x.useState("");x.useEffect(()=>{_(),g(),f();const b=()=>g(),N=()=>f();window.addEventListener("cart-updated",b),window.addEventListener("favorites-updated",N);const S=()=>{v(window.scrollY>50)};return window.addEventListener("scroll",S),()=>{window.removeEventListener("cart-updated",b),window.removeEventListener("favorites-updated",N),window.removeEventListener("scroll",S)}},[]);const _=async()=>{const{data:b}=await O.from("site_settings").select("*").maybeSingle();b&&t(b)},g=()=>{n(Kx())},f=async()=>{const b=mr(),{count:N}=await O.from("favorites").select("*",{count:"exact",head:!0}).eq("session_id",b);i(N||0)},m=b=>{b.preventDefault(),y.trim()&&(window.location.href=`#/products?search=${encodeURIComponent(y.trim())}`)};return a.jsxs(a.Fragment,{children:[a.jsx("nav",{className:`fixed top-0 left-0 right-0 z-30 transition-all duration-500 ${p?"bg-black/95 backdrop-blur-md border-b border-neutral-800":"bg-black border-b border-transparent"}`,children:a.jsxs("div",{className:"container-custom",children:[a.jsxs("div",{className:"flex items-center justify-between h-20",children:[a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsx("a",{href:"#/",className:"flex items-center gap-3 group",children:e!=null&&e.logo_url?a.jsx("img",{src:e.logo_url,alt:e.site_name,className:"h-12 w-auto object-contain"}):a.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-white group-hover:text-gold transition-colors duration-300",children:(e==null?void 0:e.site_name)||"Lovely Sex Day"})}),a.jsxs("div",{className:"hidden lg:flex items-center gap-8",children:[a.jsx("a",{href:"#/",className:"text-neutral-300 hover:text-gold transition-colors duration-300 font-medium tracking-wide text-sm uppercase",children:"Incio"}),a.jsx("a",{href:"#/products",className:"text-neutral-300 hover:text-gold transition-colors duration-300 font-medium tracking-wide text-sm uppercase",children:"Produtos"}),a.jsx("a",{href:"#/promotions",className:"text-neutral-300 hover:text-gold transition-colors duration-300 font-medium tracking-wide text-sm uppercase",children:"Promoes"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-4",children:[a.jsx("div",{className:"hidden md:flex items-center justify-center px-8 lg:px-16",children:a.jsxs("form",{onSubmit:m,className:"w-full max-w-xs relative",children:[a.jsx(tl,{type:"text",placeholder:"Pesquisar...",className:"bg-neutral-800 border-neutral-700 text-white placeholder-neutral-400 rounded-full py-2 pl-10 pr-4 w-full focus:ring-gold focus:border-gold",value:y,onChange:b=>w(b.target.value)}),a.jsx("button",{type:"submit",className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-gold",children:a.jsx(Ri,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>l(!0),className:"relative p-3 text-neutral-300 hover:text-magenta transition-all duration-500 group rounded-2xl hover:bg-neutral-900/50 backdrop-blur-sm","aria-label":"Favorites",children:[a.jsx(uu,{className:"w-6 h-6 group-hover:scale-125 transition-transform duration-500 group-hover:drop-shadow-lg"}),s>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-magenta text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center animate-scale-in",children:s})]}),a.jsxs("button",{onClick:()=>c(!0),className:"relative p-3 text-neutral-300 hover:text-wine transition-all duration-500 group rounded-2xl hover:bg-neutral-900/50 backdrop-blur-sm","aria-label":"Cart",children:[a.jsx(no,{className:"w-6 h-6 group-hover:scale-125 transition-transform duration-500 group-hover:drop-shadow-lg"}),r>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-white text-wine text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center animate-scale-in",children:r})]}),a.jsx("button",{onClick:()=>h(!d),className:"lg:hidden p-3 text-neutral-300 hover:text-gold transition-all duration-500 rounded-2xl hover:bg-neutral-900/50 backdrop-blur-sm transform hover:scale-110","aria-label":"Menu",children:d?a.jsx(dt,{className:"w-6 h-6"}):a.jsx(Bx,{className:"w-6 h-6"})})]})]})]}),d&&a.jsx("div",{className:"lg:hidden pb-6 border-t border-neutral-800 mt-2 pt-6 animate-slide-up",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("form",{onSubmit:m,className:"w-full relative mb-4",children:[a.jsx(tl,{type:"text",placeholder:"Pesquisar produtos...",className:"bg-neutral-800 border-neutral-700 text-white placeholder-neutral-400 rounded-full py-2 pl-10 pr-4 w-full focus:ring-gold focus:border-gold",value:y,onChange:b=>w(b.target.value)}),a.jsx("button",{type:"submit",className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-gold",children:a.jsx(Ri,{className:"w-5 h-5"})})]}),a.jsx("a",{href:"#/",onClick:()=>h(!1),className:"text-neutral-300 hover:text-gold transition-colors duration-300 font-medium tracking-wide text-sm uppercase py-2",children:"Incio"}),a.jsx("a",{href:"#/products",onClick:()=>h(!1),className:"text-neutral-300 hover:text-gold transition-colors duration-300 font-medium tracking-wide text-sm uppercase py-2",children:"Produtos"}),a.jsx("a",{href:"#/promotions",onClick:()=>h(!1),className:"text-neutral-300 hover:text-gold transition-colors duration-300 font-medium tracking-wide text-sm uppercase py-2",children:"Promoes"})]})})]})}),a.jsx("div",{className:"h-20"}),a.jsx(Gx,{isOpen:o,onClose:()=>{l(!1),f()}}),a.jsx(Jx,{isOpen:u,onClose:()=>c(!1)})]})},Yx=()=>{const[e,t]=x.useState(null);x.useEffect(()=>{r()},[]);const r=async()=>{const{data:n}=await O.from("site_settings").select("*").maybeSingle();n&&t(n)};return new Date().getFullYear(),a.jsx("footer",{className:"bg-black-dark border-t border-neutral-800 text-white mt-24",children:a.jsx("div",{className:"container-custom py-16",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 mb-12",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-display text-3xl font-bold mb-4 text-gold",children:(e==null?void 0:e.site_name)||"Lovely Sex Day"}),a.jsx("p",{className:"text-neutral-400 mb-6 leading-relaxed font-light",children:"Sua loja especializada em produtos ntimos de qualidade. Discrio, elegncia e satisfao garantidas."}),a.jsxs("div",{className:"flex gap-3",children:[(e==null?void 0:e.instagram)&&a.jsx("a",{href:`https://instagram.com/${e.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-black-light border border-neutral-800 hover:border-magenta hover:text-magenta transition-all duration-300","aria-label":"Instagram",children:a.jsx(Fx,{className:"w-5 h-5"})}),(e==null?void 0:e.facebook)&&a.jsx("a",{href:`https://facebook.com/${e.facebook}`,target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-black-light border border-neutral-800 hover:border-magenta hover:text-magenta transition-all duration-300","aria-label":"Facebook",children:a.jsx(Mx,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-display text-xl font-semibold mb-6 text-white flex items-center gap-2",children:[a.jsx("div",{className:"w-1 h-6 bg-gold"}),"Links teis"]}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx("li",{children:a.jsx("a",{href:"#/",className:"text-neutral-400 hover:text-gold transition-colors duration-300 tracking-wide",children:"Incio"})}),a.jsx("li",{children:a.jsx("a",{href:"#/categories",className:"text-neutral-400 hover:text-gold transition-colors duration-300 tracking-wide",children:"Categorias"})}),a.jsx("li",{children:a.jsx("a",{href:"#/products",className:"text-neutral-400 hover:text-gold transition-colors duration-300 tracking-wide",children:"Produtos"})}),a.jsx("li",{children:a.jsx("a",{href:"#/promotions",className:"text-neutral-400 hover:text-gold transition-colors duration-300 tracking-wide",children:"Promoes"})})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-display text-xl font-semibold mb-6 text-white flex items-center gap-2",children:[a.jsx("div",{className:"w-1 h-6 bg-gold"}),"Contato"]}),a.jsx("ul",{className:"space-y-4",children:(e==null?void 0:e.whatsapp_number)&&a.jsx("li",{children:a.jsxs("a",{href:`https://wa.me/${e.whatsapp_number.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-neutral-400 hover:text-wine transition-all duration-300 group",children:[a.jsx(em,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300"}),a.jsx("span",{className:"tracking-wide",children:"WhatsApp"})]})})})]})]})})})},du=({product:e,promotion:t,onFavoriteChange:r})=>{const[n,s]=x.useState(!1),[i,o]=x.useState(!1),[l,u]=x.useState(0),c=Ji(),d=e.images&&e.images.length>0?e.images:e.image_url?[e.image_url]:[];x.useEffect(()=>{h()},[e.id]);const h=async()=>{const f=mr(),{data:m}=await O.from("favorites").select("*").eq("session_id",f).eq("product_id",e.id).maybeSingle();s(!!m)},p=t&&t.is_active,v=p?e.price*(1-t.discount_percentage/100):e.price,y=p&&t.discount_percentage,w=async f=>{f.stopPropagation(),f.preventDefault(),o(!0);const m=mr();try{n?(await O.from("favorites").delete().eq("session_id",m).eq("product_id",e.id),s(!1)):(await O.from("favorites").insert({session_id:m,product_id:e.id}),s(!0)),window.dispatchEvent(new Event("favorites-updated")),r==null||r()}catch(b){console.error("Error toggling favorite:",b)}finally{o(!1)}},_=f=>{f.stopPropagation(),f.preventDefault(),cu(e,p?t:void 0)},g=()=>{c(`/product/${e.id}`)};return a.jsx("div",{onClick:g,className:"group relative cursor-pointer h-full",children:a.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-neutral-900 border border-neutral-800 hover:border-gold transition-all duration-500 md:transform md:hover:-translate-y-2 h-full flex flex-col",children:[y&&a.jsxs("div",{className:"absolute top-2 right-2 md:top-3 md:right-3 z-10 px-2 py-0.5 md:px-3 md:py-1 bg-magenta text-white text-xs font-bold rounded-lg",children:["-",y,"%"]}),a.jsx("button",{onClick:w,disabled:i,className:"absolute top-2 left-2 md:top-3 md:left-3 z-10 p-1.5 md:p-2 bg-black/80 backdrop-blur-sm rounded-lg hover:bg-black transition-all duration-300 disabled:opacity-50","aria-label":n?"Remove from favorites":"Add to favorites",children:a.jsx(uu,{className:`w-3.5 h-3.5 md:w-4 md:h-4 transition-all duration-300 ${n?"fill-magenta text-magenta":"text-white"}`})}),a.jsx("div",{className:"aspect-[3/4] overflow-hidden bg-neutral-950 relative",children:d.length>0?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:d[l],alt:e.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),d.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1.5 z-10",children:d.map((f,m)=>a.jsx("button",{onClick:b=>{b.stopPropagation(),b.preventDefault(),u(m)},className:`w-1.5 h-1.5 rounded-full transition-all ${m===l?"bg-gold w-4":"bg-white/50 hover:bg-white/80"}`,"aria-label":`View image ${m+1}`},m))}),a.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 left-2 right-2 flex justify-between opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:f=>{f.stopPropagation(),f.preventDefault(),u(m=>(m-1+d.length)%d.length)},className:"bg-black/50 hover:bg-black/70 text-white p-1 rounded-full backdrop-blur-sm","aria-label":"Previous image",children:""}),a.jsx("button",{onClick:f=>{f.stopPropagation(),f.preventDefault(),u(m=>(m+1)%d.length)},className:"bg-black/50 hover:bg-black/70 text-white p-1 rounded-full backdrop-blur-sm","aria-label":"Next image",children:""})]})]})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-neutral-900",children:a.jsx("span",{className:"text-neutral-700 text-3xl md:text-5xl font-display",children:"?"})})}),a.jsxs("div",{className:"p-3 md:p-4 flex flex-col flex-grow",children:[a.jsx("h3",{className:"font-display text-sm md:text-lg text-white font-semibold mb-2 md:mb-3 line-clamp-2 flex-grow",children:e.name}),a.jsxs("div",{className:"flex items-baseline gap-1 md:gap-2 mb-2 md:mb-4",children:[p&&a.jsxs("span",{className:"text-xs md:text-sm text-neutral-500 line-through",children:["R$ ",e.price.toFixed(2)]}),a.jsxs("span",{className:"font-display text-lg md:text-2xl font-bold text-gold",children:["R$ ",v.toFixed(2)]})]}),a.jsxs("button",{onClick:_,disabled:e.stock_quantity<=0,className:"w-full py-2 md:py-3 bg-wine text-white font-semibold text-xs md:text-sm rounded-lg hover:bg-wine-light transition-all duration-300 flex items-center justify-center gap-1.5 md:gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(no,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),a.jsx("span",{className:"hidden md:inline",children:"Adicionar ao Carrinho"}),a.jsx("span",{className:"md:hidden",children:"Adicionar"})]})]})]})})},Ho=({title:e,products:t,promotions:r})=>{const n=x.useRef(null),[s,i]=x.useState(!1),[o,l]=x.useState(!1),u=()=>{if(!n.current)return;const{scrollLeft:d,scrollWidth:h,clientWidth:p}=n.current;i(d>0),l(d<h-p-10)};x.useEffect(()=>(u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)),[t]);const c=d=>{if(!n.current)return;const h=n.current.clientWidth*.8;n.current.scrollBy({left:d==="left"?-h:h,behavior:"smooth"})};return t.length===0?null:a.jsxs("section",{className:"py-12 md:py-20 bg-black",children:[a.jsxs("div",{className:"container-custom",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-12",children:[a.jsx("h2",{className:"font-display text-2xl md:text-4xl lg:text-5xl font-bold text-white",children:e}),a.jsxs("div",{className:"hidden md:flex gap-2",children:[a.jsx("button",{onClick:()=>c("left"),disabled:!s,className:"p-3 bg-neutral-900 border border-neutral-800 rounded-xl hover:bg-neutral-800 hover:border-gold transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-neutral-900 disabled:hover:border-neutral-800","aria-label":"Scroll left",children:a.jsx(lu,{className:"w-5 h-5 text-white"})}),a.jsx("button",{onClick:()=>c("right"),disabled:!o,className:"p-3 bg-neutral-900 border border-neutral-800 rounded-xl hover:bg-neutral-800 hover:border-gold transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-neutral-900 disabled:hover:border-neutral-800","aria-label":"Scroll right",children:a.jsx(Yf,{className:"w-5 h-5 text-white"})})]})]}),a.jsx("div",{ref:n,onScroll:u,className:"overflow-x-auto scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0",style:{scrollSnapType:"x mandatory"},children:a.jsx("div",{className:"flex gap-4 md:gap-6 pb-4",children:t.map(d=>{const h=r==null?void 0:r.find(p=>{var v;return(v=p.product_ids)==null?void 0:v.includes(d.id)});return a.jsx("div",{className:"flex-none w-[calc(50%-0.5rem)] md:w-[calc(33.333%-1rem)] lg:w-[calc(25%-1.125rem)] min-w-0",style:{scrollSnapAlign:"start"},children:a.jsx(du,{product:d,promotion:h})},d.id)})})})]}),a.jsx("style",{children:`
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
      `})]})},am=()=>{const[e,t]=x.useState([]);return x.useEffect(()=>{(async()=>{const{data:n,error:s}=await O.from("categories").select("*");s&&console.error("Categories error:",s),n&&t(n)})()},[]),a.jsx(a.Fragment,{children:e.length>0&&a.jsx("section",{id:"categories-section",className:"py-12 md:py-20 bg-black",children:a.jsxs("div",{className:"container-custom",children:[a.jsx("h2",{className:"font-display text-2xl md:text-4xl lg:text-5xl font-bold text-white mb-6 md:mb-12",children:"Categorias"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 md:gap-6",children:e.map(r=>a.jsxs("a",{href:`#/products?category=${r.slug}`,className:"group relative overflow-hidden aspect-square rounded-xl md:rounded-2xl bg-neutral-900 border border-neutral-800 hover:border-gold transition-all duration-500 md:transform md:hover:-translate-y-2",children:[r.image_url?a.jsx("img",{src:r.image_url,alt:r.name,className:"w-full h-full object-cover transition-all duration-500 group-hover:scale-110"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-neutral-800 to-neutral-900 flex items-center justify-center",children:a.jsx("span",{className:"text-neutral-700 text-2xl md:text-4xl font-display",children:"?"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent"}),a.jsx("div",{className:"absolute inset-0 flex items-end p-2 md:p-4",children:a.jsx("h3",{className:"font-display text-sm md:text-lg font-bold text-white",children:r.name})})]},r.id))})]})})})},Xx=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(0),[s,i]=x.useState([]),[o,l]=x.useState([]),[u,c]=x.useState([]),[d,h]=x.useState([]);x.useEffect(()=>{p()},[]),x.useEffect(()=>{if(e.length>1){const _=setInterval(()=>{n(g=>(g+1)%e.length)},6e3);return()=>clearInterval(_)}},[e.length]);const p=async()=>{try{const{data:_,error:g}=await O.from("carousel_images").select("*").eq("is_active",!0).order("order_index");g&&console.error("Carousel error:",g);const{data:f,error:m}=await O.from("products").select("*").eq("is_featured",!0).limit(8);m&&console.error("Featured products error:",m);const{data:b,error:N}=await O.from("products").select("*").order("access_count",{ascending:!1}).limit(8);N&&console.error("Most accessed products error:",N);const{data:S,error:k}=await O.from("promotions").select("*").eq("is_active",!0);if(k&&console.error("Promotions error:",k),_&&t(_),f&&i(f),b&&h(b),S){c(S);const j=S.flatMap(P=>P.product_ids);if(j.length>0){const{data:P,error:$}=await O.from("products").select("*").in("id",j);$&&console.error("Promotional products error:",$),P&&l(P)}}}catch(_){console.error("Error loading data:",_)}},v=()=>{n(_=>(_+1)%e.length)},y=()=>{n(_=>(_-1+e.length)%e.length)},w=e[r];return a.jsxs("div",{className:"min-h-screen bg-black",children:[e.length>0&&a.jsxs("section",{className:"relative h-screen overflow-hidden",children:[e.map((_,g)=>a.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${g===r?"opacity-100":"opacity-0"}`,children:[a.jsx("img",{src:_.image_url,alt:_.title,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-black"})]},_.id)),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center px-4 max-w-4xl mx-auto",children:[a.jsx("h1",{className:"font-display text-4xl md:text-6xl lg:text-8xl xl:text-9xl font-bold text-white mb-4 md:mb-6 tracking-tight animate-fade-in",children:(w==null?void 0:w.title)||"Lovely Sex Day"}),a.jsx("p",{className:"text-base md:text-xl lg:text-2xl text-neutral-200 mb-6 md:mb-8 font-light tracking-wide animate-slide-up",children:"Descubra sua sensualidade"}),a.jsxs("a",{href:(w==null?void 0:w.button_link)||"#/products",className:"group relative inline-block px-8 py-3 md:px-12 md:py-5 text-white text-sm md:text-base font-medium tracking-wider overflow-hidden transition-all duration-700 animate-scale-in rounded-full shadow-2xl hover:shadow-wine/50 transform hover:scale-110",style:{background:"linear-gradient(135deg, hsl(var(--color-wine)) 0%, hsl(var(--color-wine-dark)) 100%)"},children:[a.jsx("span",{className:"relative z-10",children:"EXPLORAR"}),a.jsx("div",{className:"absolute inset-0 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-700 rounded-full",style:{background:"linear-gradient(135deg, hsl(var(--color-gold)) 0%, hsl(var(--color-magenta)) 100%)"}})]})]})}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:y,className:"hidden md:block absolute left-4 md:left-8 top-1/2 -translate-y-1/2 p-2 md:p-4 bg-white/10 backdrop-blur-md border border-white/20 rounded-xl md:rounded-2xl hover:bg-white/20 transition-all duration-500 transform hover:scale-110 hover:shadow-lg hover:shadow-white/20","aria-label":"Previous slide",children:a.jsx(lu,{className:"w-4 h-4 md:w-6 md:h-6 text-white"})}),a.jsx("button",{onClick:v,className:"hidden md:block absolute right-4 md:right-8 top-1/2 -translate-y-1/2 p-2 md:p-4 bg-white/10 backdrop-blur-md border border-white/20 rounded-xl md:rounded-2xl hover:bg-white/20 transition-all duration-500 transform hover:scale-110 hover:shadow-lg hover:shadow-white/20","aria-label":"Next slide",children:a.jsx(Yf,{className:"w-4 h-4 md:w-6 md:h-6 text-white"})}),a.jsx("div",{className:"absolute bottom-6 md:bottom-12 left-1/2 -translate-x-1/2 flex gap-2 md:gap-3",children:e.map((_,g)=>a.jsx("button",{onClick:()=>n(g),className:`h-1 rounded-full transition-all duration-500 ${g===r?"bg-gold w-12 md:w-16":"bg-white/40 w-6 md:w-8 hover:bg-white/60"}`,"aria-label":`Go to slide ${g+1}`},g))})]})]}),a.jsx(am,{}),a.jsxs("section",{className:"py-12 md:py-24 bg-black relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-5",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 md:w-96 md:h-96 bg-magenta rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 md:w-96 md:h-96 bg-wine rounded-full blur-3xl"})]}),a.jsx("div",{className:"container-custom relative z-10",children:a.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-8 md:mb-16",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 md:gap-3 mb-4 md:mb-6",children:[a.jsx(Vr,{className:"w-5 h-5 md:w-8 md:h-8 text-gold"}),a.jsx("h2",{className:"font-display text-2xl md:text-5xl lg:text-6xl font-bold text-white",children:"Sensaes Exclusivas"}),a.jsx(Vr,{className:"w-5 h-5 md:w-8 md:h-8 text-gold"})]}),a.jsx("p",{className:"text-sm md:text-lg text-neutral-300 leading-relaxed font-light px-4",children:"Na Lovely Sex Day, acreditamos que a sensualidade  uma forma de arte. Cada produto  cuidadosamente selecionado para proporcionar experincias nicas e memorveis. Explore nosso universo de luxo e sofisticao."})]})})]}),a.jsx(Ho,{title:"Produtos em Destaque",products:s,promotions:u}),a.jsx(Ho,{title:"Mais Desejados",products:d,promotions:u}),o.length>0&&a.jsx(Ho,{title:"Promoes Especiais",products:o,promotions:u})]})},Zx=()=>{const{slug:e}=v0(),t=Ji(),[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!1),[u,c]=x.useState(!0);x.useEffect(()=>{e&&d()},[e]);const d=async()=>{c(!0);const g=parseInt(e||"0"),{data:f}=await O.from("products").select("*").eq("id",g).maybeSingle();if(f){n(f),await O.from("products").update({access_count:(f.access_count||0)+1}).eq("id",f.id);const{data:m}=await O.from("promotions").select("*").eq("is_active",!0);if(m){const S=m.find(k=>k.product_ids.includes(f.id));S&&i(S)}const b=mr(),{data:N}=await O.from("favorites").select("id").eq("session_id",b).eq("product_id",f.id).maybeSingle();l(!!N)}c(!1)},h=async()=>{if(!r)return;const g=mr();try{o?(await O.from("favorites").delete().eq("session_id",g).eq("product_id",r.id),l(!1)):(await O.from("favorites").insert({session_id:g,product_id:r.id}),l(!0))}catch(f){console.error("Error toggling favorite:",f)}},p=()=>{if(r){const g=s&&s.is_active;cu(r,g?s:void 0)}},v=async()=>{const g=window.location.href;if(navigator.share)try{await navigator.share({title:r==null?void 0:r.name,text:r==null?void 0:r.description,url:g})}catch(f){console.log("Error sharing:",f)}else navigator.clipboard.writeText(g),alert("Link copiado para a rea de transferncia!")};if(u)return a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-gold border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-neutral-400",children:"Carregando..."})]})});if(!r)return a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-display font-bold text-white mb-6",children:"Produto no encontrado"}),a.jsx("button",{onClick:()=>t("/"),className:"px-8 py-3 bg-wine text-white font-medium tracking-wider hover:bg-wine-light transition-all duration-300",children:"VOLTAR  HOME"})]})});const y=s&&s.is_active,w=y?r.price*(1-s.discount_percentage/100):r.price,_=y&&s.discount_percentage;return a.jsxs("div",{className:"min-h-screen bg-black",children:[a.jsx("button",{onClick:()=>t("/"),className:"fixed top-24 left-8 z-20 p-4 bg-black-light border border-neutral-800 hover:border-gold text-white transition-all duration-300 group",children:a.jsx(lu,{className:"w-6 h-6 group-hover:-translate-x-1 transition-transform duration-300"})}),a.jsx("div",{className:"container-custom py-16",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"sticky top-32",children:[a.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-neutral-900 border border-neutral-800",children:[r.image_url?a.jsx("img",{src:r.image_url,alt:r.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Ti,{className:"w-32 h-32 text-neutral-700"})}),r.is_featured&&a.jsx("div",{className:"absolute top-6 right-6 px-4 py-2 bg-gold text-black text-sm font-semibold tracking-wider",children:"DESTAQUE"}),_&&a.jsxs("div",{className:"absolute top-6 left-6 px-4 py-2 bg-magenta text-white text-sm font-semibold tracking-wider",children:["-",_,"%"]})]}),a.jsxs("div",{className:"flex gap-4 mt-8",children:[a.jsxs("button",{onClick:h,className:"flex-1 py-4 bg-black-light border border-neutral-800 hover:border-magenta text-white transition-all duration-300 flex items-center justify-center gap-2",children:[a.jsx(uu,{className:`w-6 h-6 transition-all ${o?"fill-magenta text-magenta":""}`}),o?"FAVORITADO":"FAVORITAR"]}),a.jsx("button",{onClick:v,className:"p-4 bg-black-light border border-neutral-800 hover:border-gold text-white transition-all duration-300",children:a.jsx(qx,{className:"w-6 h-6"})})]})]})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-display text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:r.name}),a.jsxs("div",{className:"flex items-baseline gap-4 mb-8",children:[y&&a.jsxs("span",{className:"text-2xl text-neutral-500 line-through font-light",children:["R$ ",r.price.toFixed(2)]}),a.jsxs("span",{className:"text-5xl font-display font-bold text-gold",children:["R$ ",w.toFixed(2)]})]}),r.stock_quantity>0?a.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-8",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm tracking-wider",children:"EM ESTOQUE"})]}):a.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 mb-8",children:[a.jsx("div",{className:"w-2 h-2 bg-neutral-500 rounded-full"}),a.jsx("span",{className:"text-sm tracking-wider",children:"ESGOTADO"})]})]}),r.description&&a.jsxs("div",{className:"border-t border-neutral-800 pt-8",children:[a.jsxs("h3",{className:"font-display text-2xl font-semibold text-white mb-4 flex items-center gap-3",children:[a.jsx("div",{className:"w-1 h-6 bg-gold"}),"Descrio"]}),a.jsx("p",{className:"text-neutral-300 leading-relaxed text-lg font-light whitespace-pre-line",children:r.description})]}),r.detailed_description&&a.jsxs("div",{className:"border-t border-neutral-800 pt-8",children:[a.jsxs("h3",{className:"font-display text-2xl font-semibold text-white mb-4 flex items-center gap-3",children:[a.jsx("div",{className:"w-1 h-6 bg-gold"}),"Detalhes"]}),a.jsx("p",{className:"text-neutral-300 leading-relaxed text-lg font-light whitespace-pre-line",children:r.detailed_description})]}),r.technical_specs&&a.jsxs("div",{className:"bg-black-light border border-neutral-800 p-8",children:[a.jsxs("h3",{className:"font-display text-2xl font-semibold text-white mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"w-1 h-6 bg-gold"}),"Especificaes Tcnicas"]}),a.jsx("div",{className:"text-neutral-300 leading-relaxed text-lg font-light whitespace-pre-line",children:r.technical_specs})]}),a.jsx("div",{className:"border-t border-neutral-800 pt-8",children:a.jsxs("button",{onClick:p,disabled:r.stock_quantity<=0,className:"w-full py-5 bg-wine text-white font-semibold text-lg tracking-wider hover:bg-wine-light transition-all duration-300 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed group",children:[a.jsx(no,{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-300"}),r.stock_quantity>0?"ADICIONAR AO CARRINHO":"PRODUTO INDISPONVEL"]})}),a.jsx("div",{className:"bg-wine/10 border border-wine/30 p-8",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Vr,{className:"w-6 h-6 text-gold flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-display text-xl font-semibold text-white mb-2",children:"Entrega Discreta"}),a.jsx("p",{className:"text-neutral-300 leading-relaxed font-light",children:"Todos os produtos so enviados em embalagens discretas, sem qualquer identificao externa do contedo. Sua privacidade  nossa prioridade."})]})]})})]})]})})]})};function ew(){return new URLSearchParams(St().search)}const tw=()=>{const e=ew(),[t,r]=x.useState([]),[n,s]=x.useState([]),[i,o]=x.useState([]),[l,u]=x.useState(e.get("search")||""),[c,d]=x.useState(e.get("category")||"all"),[h,p]=x.useState("all"),[v,y]=x.useState(!1),[w,_]=x.useState("newest"),[g,f]=x.useState(!1);x.useEffect(()=>{m();const k=e.get("search");k&&u(k);const j=e.get("category");j&&d(j)},[]),x.useEffect(()=>{b()},[t,l,c,h,v,w]);const m=async()=>{const{data:k}=await O.from("products").select("*").order("created_at",{ascending:!1}),{data:j}=await O.from("promotions").select("*").eq("is_active",!0);k&&r(k),j&&o(j)},b=()=>{let k=[...t];switch(l&&(k=k.filter(j=>j.name.toLowerCase().includes(l.toLowerCase())||j.description.toLowerCase().includes(l.toLowerCase()))),c!=="all"&&(k=k.filter(j=>j.category_id===c)),h!=="all"&&(k=k.filter(j=>{switch(h){case"under50":return j.price<50;case"50to100":return j.price>=50&&j.price<100;case"100to200":return j.price>=100&&j.price<200;case"over200":return j.price>=200;default:return!0}})),v&&(k=k.filter(j=>j.stock_quantity>0)),w){case"name":k.sort((j,P)=>j.name.localeCompare(P.name));break;case"price-asc":k.sort((j,P)=>j.price-P.price);break;case"price-desc":k.sort((j,P)=>P.price-j.price);break;case"newest":k.sort((j,P)=>new Date(P.created_at).getTime()-new Date(j.created_at).getTime());break}s(k)},N=()=>{u(""),d("all"),p("all"),y(!1),_("newest")},S=k=>i.find(j=>j.product_ids.includes(k));return a.jsxs("div",{className:"min-h-screen bg-black pt-24",children:[a.jsx(am,{}),a.jsxs("div",{className:"container-custom py-12",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"font-display text-4xl md:text-6xl font-bold text-white mb-4",children:"Todos os Produtos"}),a.jsxs("p",{className:"text-neutral-400",children:[n.length," ",n.length===1?"produto encontrado":"produtos encontrados"]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsx("aside",{className:`${g?"block":"hidden"} lg:block lg:w-80 space-y-6`,children:a.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"font-display text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(Vc,{className:"w-5 h-5"}),"Filtros"]}),a.jsx("button",{onClick:N,className:"text-sm text-gold hover:text-gold-light transition-colors",children:"Limpar"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-3",children:"Buscar"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ri,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500"}),a.jsx("input",{type:"text",value:l,onChange:k=>u(k.target.value),placeholder:"Nome do produto...",className:"w-full pl-10 pr-4 py-3 bg-black border border-neutral-800 rounded-lg text-white placeholder-neutral-500 focus:outline-none focus:border-gold transition-colors"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-3",children:"Faixa de Preo"}),a.jsxs("select",{value:h,onChange:k=>p(k.target.value),className:"w-full px-4 py-3 bg-black border border-neutral-800 rounded-lg text-white focus:outline-none focus:border-gold transition-colors",children:[a.jsx("option",{value:"all",children:"Todos os Preos"}),a.jsx("option",{value:"under50",children:"At R$ 50"}),a.jsx("option",{value:"50to100",children:"R$ 50 - R$ 100"}),a.jsx("option",{value:"100to200",children:"R$ 100 - R$ 200"}),a.jsx("option",{value:"over200",children:"Acima de R$ 200"})]})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:k=>y(k.target.checked),className:"w-5 h-5 rounded bg-black border-neutral-800 text-gold focus:ring-gold focus:ring-offset-0"}),a.jsx("span",{className:"text-sm text-neutral-300",children:"Apenas em Estoque"})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-3",children:"Ordenar Por"}),a.jsxs("select",{value:w,onChange:k=>_(k.target.value),className:"w-full px-4 py-3 bg-black border border-neutral-800 rounded-lg text-white focus:outline-none focus:border-gold transition-colors",children:[a.jsx("option",{value:"newest",children:"Mais Recentes"}),a.jsx("option",{value:"name",children:"Nome (A-Z)"}),a.jsx("option",{value:"price-asc",children:"Menor Preo"}),a.jsx("option",{value:"price-desc",children:"Maior Preo"})]})]})]})]})}),a.jsxs("main",{className:"flex-1",children:[a.jsxs("button",{onClick:()=>f(!g),className:"lg:hidden w-full mb-6 py-3 px-6 bg-neutral-900 border border-neutral-800 rounded-lg text-white font-medium flex items-center justify-center gap-2 hover:border-gold transition-colors",children:[a.jsx(Vc,{className:"w-5 h-5"}),g?"Esconder Filtros":"Mostrar Filtros"]}),n.length===0?a.jsxs("div",{className:"text-center py-20",children:[a.jsx("div",{className:"w-20 h-20 bg-neutral-900 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ri,{className:"w-10 h-10 text-neutral-600"})}),a.jsx("h3",{className:"font-display text-2xl font-bold text-white mb-2",children:"Nenhum produto encontrado"}),a.jsx("p",{className:"text-neutral-400 mb-6",children:"Tente ajustar os filtros para encontrar o que procura"}),a.jsx("button",{onClick:N,className:"px-6 py-3 bg-wine text-white font-semibold rounded-lg hover:bg-wine-light transition-colors",children:"Limpar Filtros"})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(k=>a.jsx(du,{product:k,promotion:S(k.id)},k.id))})]})]})]})]})},rw=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,i]=x.useState(!0);x.useEffect(()=>{o()},[]);const o=async()=>{i(!0);const{data:u}=await O.from("promotions").select("*").eq("is_active",!0).order("discount_percentage",{ascending:!1});if(u&&u.length>0){t(u);const c=u.flatMap(d=>d.product_ids);if(c.length>0){const{data:d}=await O.from("products").select("*").in("id",c);d&&n(d)}}i(!1)},l=u=>new Date(u).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"});return s?a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-gold border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-neutral-400",children:"Carregando promoes..."})]})}):a.jsx("div",{className:"min-h-screen bg-black py-24",children:a.jsxs("div",{className:"container-custom",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("div",{className:"inline-flex items-center gap-3 mb-6",children:[a.jsx(Vr,{className:"w-10 h-10 text-gold"}),a.jsx("h1",{className:"font-display text-4xl md:text-6xl font-bold text-white",children:"Promoes Especiais"}),a.jsx(Vr,{className:"w-10 h-10 text-gold"})]}),a.jsx("p",{className:"text-neutral-400 text-lg",children:"Aproveite nossas ofertas exclusivas por tempo limitado"})]}),e.length===0?a.jsxs("div",{className:"text-center py-20",children:[a.jsx("div",{className:"w-20 h-20 bg-neutral-900 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Vr,{className:"w-10 h-10 text-neutral-600"})}),a.jsx("h3",{className:"font-display text-2xl font-bold text-white mb-2",children:"Nenhuma promoo ativa no momento"}),a.jsx("p",{className:"text-neutral-400 mb-6",children:"Fique atento! Em breve teremos ofertas incrveis para voc"}),a.jsx("a",{href:"#/products",className:"inline-block px-8 py-4 bg-wine text-white font-semibold rounded-lg hover:bg-wine-light transition-colors",children:"Ver Todos os Produtos"})]}):a.jsx("div",{className:"space-y-16",children:e.map(u=>{const c=r.filter(d=>u.product_ids.includes(d.id));return c.length===0?null:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-magenta/20 to-wine/20 border border-magenta/30 rounded-2xl p-6 md:p-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-display text-2xl md:text-3xl font-bold text-white mb-2",children:u.name}),a.jsxs("div",{className:"flex items-center gap-2 text-neutral-300",children:[a.jsx(zx,{className:"w-5 h-5"}),a.jsxs("span",{children:["Vlido at ",u.ends_at?l(u.ends_at):"Disponibilidade"]})]})]}),a.jsx("div",{className:"inline-flex items-center justify-center px-6 py-3 bg-magenta rounded-full",children:a.jsxs("span",{className:"text-3xl md:text-4xl font-display font-bold text-white",children:[u.discount_percentage,"% OFF"]})})]})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(d=>a.jsx(du,{product:d,promotion:u},d.id))})]},u.id)})})]})})},hu=async()=>{const{data:e,error:t}=await O.from("products").select("*");if(t)throw t;return e||[]},oo=async()=>{const{data:e,error:t}=await O.from("categories").select("*");if(t)throw t;return e||[]},nw=async()=>{const{data:e,error:t}=await O.from("carousel_images").select("*");if(t)throw t;return e||[]},sw=async()=>{const{data:e,error:t}=await O.from("products").select("*").order("access_count",{ascending:!1});if(t)throw t;return e||[]},iw=async()=>{const{data:e,error:t}=await O.functions.invoke("get-admin-users");if(t){const r=JSON.parse(t.message);throw new Error(r.error)}return e.users.map(r=>({id:r.id,username:r.user_metadata.username||"",email:r.email||"",created_at:r.created_at}))},ow=async e=>{const{data:t,error:r}=await O.functions.invoke("create-admin-user",{body:{email:e.email,password:e.password,username:e.username}});if(r){const n=JSON.parse(r.message);throw new Error(n.error)}return t},aw=async(e,t)=>{const{data:r,error:n}=await O.functions.invoke("update-admin-user",{body:{id:e,...t}});if(n){const s=JSON.parse(n.message);throw new Error(s.error)}return r},lw=async e=>{const{data:t,error:r}=await O.functions.invoke("delete-admin-user",{body:{id:e}});if(r){const n=JSON.parse(r.message);throw new Error(n.error)}return t},uw=async()=>{const{data:e,error:t}=await O.from("carousel_images").select("*").order("order_index");if(t)throw t;return e||[]},cw=async e=>{const{data:t,error:r}=await O.from("carousel_images").insert([e]).select();if(r)throw r;return t},Qc=async(e,t)=>{const{data:r,error:n}=await O.from("carousel_images").update(t).eq("id",e).select();if(n)throw n;return r},dw=async e=>{const{data:t,error:r}=await O.from("carousel_images").delete().eq("id",e);if(r)throw r;return t},hw=async e=>{const t=e.map(s=>({id:s.id,order_index:s.order_index})),{data:r,error:n}=await O.from("carousel_images").upsert(t);if(n)throw n;return r},fw=async e=>{const{data:t,error:r}=await O.from("categories").insert([e]).select();if(r)throw r;return t},mw=async(e,t)=>{const{data:r,error:n}=await O.from("categories").update(t).eq("id",e).select();if(n)throw n;return r},pw=async e=>{const{data:t,error:r}=await O.from("categories").delete().eq("id",e);if(r)throw r;return t},gw=async e=>{const{data:t,error:r}=await O.from("products").insert([e]).select();if(r)throw r;return t},vw=async(e,t)=>{const{data:r,error:n}=await O.from("products").update(t).eq("id",e).select();if(n)throw n;return r},yw=async e=>{const{data:t,error:r}=await O.from("products").delete().eq("id",e);if(r)throw r;return t},lm=async()=>{const{data:e,error:t}=await O.from("promotions").select("*");if(t)throw t;return e||[]},xw=async e=>{const{data:t,error:r}=await O.from("promotions").insert([e]).select();if(r)throw r;return t},ww=async(e,t)=>{const{data:r,error:n}=await O.from("promotions").update(t).eq("id",e).select();if(n)throw n;return r},_w=async e=>{const{data:t,error:r}=await O.from("promotions").delete().eq("id",e);if(r)throw r;return t},bw=async e=>{const{data:t,error:r}=await O.from("promotions").select("is_active").eq("id",e).single();if(r)throw r;const{data:n,error:s}=await O.from("promotions").update({is_active:!t.is_active}).eq("id",e).select();if(s)throw s;return n},kw=async()=>{const{data:e,error:t}=await O.from("site_settings").select("*").single();if(t)throw t;return e||{}},jw=async e=>{const{data:t,error:r}=await O.from("site_settings").update(e).eq("id",1).select();if(r)throw r;return t},dn=()=>a.jsx("div",{children:"Loading..."});function Sw(e){return`R$ ${e.toFixed(2)}`}const um=()=>{const[e,t]=x.useState({whatsapp_number:"",site_name:"",logo_url:""}),[r,n]=x.useState(!0),[s,i]=x.useState(!1),[o,l]=x.useState(""),[u,c]=x.useState(null),d=()=>{t(y=>({...y,logo_url:""}))};x.useEffect(()=>{h()},[]);const h=async()=>{n(!0);try{const y=await kw();y&&t({whatsapp_number:y.whatsapp_number||"",site_name:y.site_name||"",logo_url:y.logo_url||""})}catch(y){console.error("Erro ao carregar configuraes:",y)}finally{n(!1)}},p=async()=>{i(!0),l("");try{let y=e.logo_url;u&&(y=await ro(u,"site"));const w={...e,logo_url:y};await jw(w),t(w),c(null),l("Configuraes salvas com sucesso!"),setTimeout(()=>l(""),3e3)}catch(y){console.error("Erro ao salvar configuraes:",y),l("Erro ao salvar configuraes")}finally{i(!1)}},v=y=>{const w=y.target.value.replace(/\D/g,"");t(_=>({..._,whatsapp_number:w}))};return r?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(dn,{})}):a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(rm,{className:"text-red-600 mr-3",size:24}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Configuraes do Site"})]}),o&&a.jsx("div",{className:`mb-4 p-4 rounded-lg ${o.includes("sucesso")?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:o}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Site"}),a.jsx("input",{type:"text",value:e.site_name,onChange:y=>t(w=>({...w,site_name:y.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black",placeholder:"Nome do site"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(tm,{className:"inline mr-2",size:16}),"Nmero do WhatsApp"]}),a.jsx("input",{type:"text",value:e.whatsapp_number,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black",placeholder:"+55 (11) 99999-9999"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Digite apenas nmeros. Exemplo: 5511999999999"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(so,{className:"inline mr-2",size:16}),"Imagem da Navbar"]}),a.jsxs("div",{className:"mt-2 flex items-center",children:[e.logo_url&&a.jsxs("div",{className:"relative mr-4",children:[a.jsx("img",{src:e.logo_url,alt:"Navbar Logo",className:"h-12"}),a.jsx("button",{type:"button",onClick:d,className:"absolute -top-2 -right-2 bg-white border border-gray-300 rounded-full p-1 hover:bg-red-100",title:"Remover imagem",children:a.jsx(dt,{size:16,className:"text-red-600"})})]}),a.jsx("input",{type:"file",onChange:y=>c(y.target.files?y.target.files[0]:null),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:p,disabled:s,className:"bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-semibold py-2 px-6 rounded-lg transition-colors flex items-center",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cn,{className:"mr-2",size:16}),"Salvar Configuraes"]})})})]})]})})},cm=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,i]=x.useState(!1),[o,l]=x.useState(null),[u,c]=x.useState(!0),[d,h]=x.useState(!1),[p,v]=x.useState(""),[y,w]=x.useState([]),[_,g]=x.useState([]),[f,m]=x.useState({name:"",price:"",description:"",detailed_description:"",technical_specs:"",category_id:"",stock_quantity:"",is_featured:!1,is_on_promotion:!1,promotion_discount:""});x.useEffect(()=>{b()},[]);const b=async()=>{c(!0);try{const[T,E]=await Promise.all([hu(),oo()]);t(T),n(E)}catch(T){console.error("Erro ao carregar dados:",T),v("Erro ao carregar dados")}finally{c(!1)}},N=()=>{m({name:"",price:"",description:"",detailed_description:"",technical_specs:"",category_id:"",stock_quantity:"",is_featured:!1,is_on_promotion:!1,promotion_discount:""}),l(null),w([]),g([])},S=T=>{var E,L;T?(l(T),m({name:T.name,price:T.price.toString(),description:T.description||"",detailed_description:T.detailed_description||"",technical_specs:T.technical_specs||"",category_id:((E=T.category_id)==null?void 0:E.toString())||"",stock_quantity:T.stock_quantity.toString(),is_featured:T.is_featured,is_on_promotion:T.is_on_promotion,promotion_discount:((L=T.promotion_discount)==null?void 0:L.toString())||""}),g(T.images&&T.images.length>0?T.images:T.image_url?[T.image_url]:[])):N(),i(!0)},k=()=>{i(!1),N(),v("")},j=T=>{const E=Array.from(T.target.files||[]);E.length>0&&(w(L=>[...L,...E]),E.forEach(L=>{const q=new FileReader;q.onload=X=>{var R;const Se=(R=X.target)==null?void 0:R.result;g(A=>[...A,Se])},q.readAsDataURL(L)}))},P=T=>{g(E=>E.filter((L,q)=>q!==T)),w(E=>E.filter((L,q)=>q!==T))},$=async T=>{T.preventDefault(),h(!0),v("");try{const E=[..._];for(const X of y)if(X instanceof File){const Se=await ro(X,"products");y.indexOf(X)!==-1&&(E[E.findIndex(A=>A.startsWith("data:"))]=Se)}const L=E.filter(X=>!X.startsWith("data:")),q={...f,images:L,price:parseFloat(f.price),category_id:parseInt(f.category_id),stock_quantity:parseInt(f.stock_quantity),promotion_discount:parseFloat(f.promotion_discount)||0};o?(await vw(o.id,q),v("Produto atualizado com sucesso!")):(await gw(q),v("Produto criado com sucesso!")),await b(),k(),setTimeout(()=>v(""),3e3)}catch(E){console.error("Erro ao salvar produto:",E),v("Erro ao salvar produto")}finally{h(!1)}},Y=async T=>{if(window.confirm("Tem certeza que deseja excluir este produto?"))try{if(T.images&&T.images.length>0)for(const E of T.images)await Pi(E);else T.image_url&&await Pi(T.image_url);await yw(T.id),await b(),v("Produto excludo com sucesso!"),setTimeout(()=>v(""),3e3)}catch(E){console.error("Erro ao excluir produto:",E),v("Erro ao excluir produto")}};return u?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(dn,{})}):a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ti,{className:"text-red-600 mr-3",size:24}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Gerenciar Produtos"})]}),a.jsxs("button",{onClick:()=>S(),className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center",children:[a.jsx(un,{className:"mr-2",size:16}),"Novo Produto"]})]}),p&&a.jsx("div",{className:`mb-4 p-4 rounded-lg ${p.includes("sucesso")?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:p}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preo"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estoque"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(T=>{var L;const E=r.find(q=>q.id===T.category_id);return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("img",{src:T.image_url||"",alt:T.name,className:"w-12 h-12 object-cover rounded-lg mr-4"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:[(L=T.description)==null?void 0:L.substring(0,50),"..."]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(E==null?void 0:E.name)||"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Sw(T.price)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.stock_quantity}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[T.is_featured&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Destaque"}),T.is_on_promotion&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Promoo"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>S(T),className:"text-blue-600 hover:text-blue-900",children:a.jsx(ps,{size:16})}),a.jsx("button",{onClick:()=>Y(T),className:"text-red-600 hover:text-red-900",children:a.jsx(xr,{size:16})})]})})]},T.id)})})]})})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:o?"Editar Produto":"Novo Produto"}),a.jsx("button",{onClick:k,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(dt,{size:24})})]}),a.jsxs("form",{onSubmit:$,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Produto *"}),a.jsx("input",{type:"text",required:!0,value:f.name,onChange:T=>m(E=>({...E,name:T.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preo *"}),a.jsx("input",{type:"number",step:"0.01",required:!0,value:f.price,onChange:T=>m(E=>({...E,price:T.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),a.jsxs("select",{required:!0,value:f.category_id,onChange:T=>m(E=>({...E,category_id:T.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black",children:[a.jsx("option",{value:"",children:"Selecione uma categoria"}),r.map(T=>a.jsx("option",{value:T.id,children:T.name},T.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estoque *"}),a.jsx("input",{type:"number",required:!0,value:f.stock_quantity,onChange:T=>m(E=>({...E,stock_quantity:T.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio *"}),a.jsx("textarea",{required:!0,rows:3,value:f.description||"",onChange:T=>m(E=>({...E,description:T.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio Detalhada"}),a.jsx("textarea",{rows:4,value:f.detailed_description||"",onChange:T=>m(E=>({...E,detailed_description:T.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Especificaes Tcnicas"}),a.jsx("textarea",{rows:3,value:f.technical_specs||"",onChange:T=>m(E=>({...E,technical_specs:T.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagens do Produto (Mltiplas)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:j,className:"hidden",id:"image-upload"}),a.jsxs("label",{htmlFor:"image-upload",className:"bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg transition-colors flex items-center cursor-pointer",children:[a.jsx(so,{className:"mr-2",size:16}),"Adicionar Imagens"]}),a.jsxs("span",{className:"text-sm text-gray-500",children:[_.length," imagem(ns) selecionada(s)"]})]}),_.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-4",children:_.map((T,E)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:T,alt:`Preview ${E+1}`,className:"w-full h-32 object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>P(E),className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(dt,{size:16})}),E===0&&a.jsx("span",{className:"absolute bottom-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded",children:"Principal"})]},E))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"is_featured",checked:f.is_featured,onChange:T=>m(E=>({...E,is_featured:T.target.checked})),className:"mr-2"}),a.jsx("label",{htmlFor:"is_featured",className:"text-sm font-medium text-gray-700",children:"Produto em Destaque"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"is_on_promotion",checked:f.is_on_promotion,onChange:T=>m(E=>({...E,is_on_promotion:T.target.checked})),className:"mr-2"}),a.jsx("label",{htmlFor:"is_on_promotion",className:"text-sm font-medium text-gray-700",children:"Em Promoo"})]})]}),f.is_on_promotion&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Desconto (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",value:f.promotion_discount||"",onChange:T=>m(E=>({...E,promotion_discount:T.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black"})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:k,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-6 rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:d,className:"bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-semibold py-2 px-6 rounded-lg transition-colors flex items-center",children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cn,{className:"mr-2",size:16}),o?"Atualizar":"Criar"," Produto"]})})]})]})]})})]})},dm=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState(!0),[u,c]=x.useState(!1),[d,h]=x.useState(""),[p,v]=x.useState(null),[y,w]=x.useState({name:"",description:"",image_url:""});x.useEffect(()=>{_()},[]);const _=async()=>{l(!0);try{const k=await oo();t(k)}catch(k){console.error("Erro ao carregar categorias:",k),h("Erro ao carregar categorias")}finally{l(!1)}},g=()=>{w({name:"",description:"",image_url:""}),i(null),v(null)},f=k=>{k?(i(k),w({name:k.name,description:k.description||"",image_url:k.image_url||""})):g(),n(!0)},m=()=>{n(!1),g(),h("")},b=k=>{var P;const j=(P=k.target.files)==null?void 0:P[0];if(j){v(j);const $=new FileReader;$.onload=Y=>{var E;const T=(E=Y.target)==null?void 0:E.result;w(L=>({...L,image_url:T}))},$.readAsDataURL(j)}},N=async k=>{k.preventDefault(),c(!0),h("");try{let j=y.image_url;p&&(j=await ro(p,"categories"));const P={...y,image_url:j};s?(await mw(s.id,P),h("Categoria atualizada com sucesso!")):(await fw(P),h("Categoria criada com sucesso!")),await _(),m(),setTimeout(()=>h(""),3e3)}catch(j){console.error("Erro ao salvar categoria:",j),h("Erro ao salvar categoria")}finally{c(!1)}},S=async k=>{if(window.confirm("Tem certeza que deseja excluir esta categoria?"))try{k.image_url&&await Pi(k.image_url),await pw(k.id),await _(),h("Categoria excluda com sucesso!"),setTimeout(()=>h(""),3e3)}catch(j){console.error("Erro ao excluir categoria:",j),h("Erro ao excluir categoria")}};return o?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(dn,{})}):a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Za,{className:"text-red-600 mr-3",size:24}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Gerenciar Categorias"})]}),a.jsxs("button",{onClick:()=>f(),className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center",children:[a.jsx(un,{className:"mr-2",size:16}),"Nova Categoria"]})]}),d&&a.jsx("div",{className:`mb-4 p-4 rounded-lg ${d.includes("sucesso")?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:d}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(k=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsx("img",{src:k.image_url||"",alt:k.name,className:"w-full h-32 object-cover rounded-lg mb-4"}),a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:k.name}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:k.description}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>f(k),className:"text-blue-600 hover:text-blue-900 p-2",children:a.jsx(ps,{size:16})}),a.jsx("button",{onClick:()=>S(k),className:"text-red-600 hover:text-red-900 p-2",children:a.jsx(xr,{size:16})})]})]},k.id))})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:s?"Editar Categoria":"Nova Categoria"}),a.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(dt,{size:24})})]}),a.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Categoria *"}),a.jsx("input",{type:"text",required:!0,value:y.name,onChange:k=>w(j=>({...j,name:k.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black",placeholder:"Ex: Lingeries, Perfumes, etc."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio *"}),a.jsx("textarea",{required:!0,rows:3,value:y.description||"",onChange:k=>w(j=>({...j,description:k.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black",placeholder:"Descreva a categoria..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem da Categoria"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"hidden",id:"category-image-upload"}),a.jsxs("label",{htmlFor:"category-image-upload",className:"bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg transition-colors flex items-center cursor-pointer",children:[a.jsx(so,{className:"mr-2",size:16}),"Escolher Imagem"]}),y.image_url&&a.jsx("img",{src:y.image_url,alt:"Preview",className:"w-16 h-16 object-cover rounded-lg"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:m,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-6 rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:u,className:"bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-semibold py-2 px-6 rounded-lg transition-colors flex items-center",children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cn,{className:"mr-2",size:16}),s?"Atualizar":"Criar"," Categoria"]})})]})]})]})})]})},hm=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,i]=x.useState([]),[o,l]=x.useState(!1),[u,c]=x.useState(null),[d,h]=x.useState(!0),[p,v]=x.useState(!1),[y,w]=x.useState(""),[_,g]=x.useState(null),[f,m]=x.useState({title:"",image_url:"",button_link:"",is_active:!0});x.useEffect(()=>{b()},[]);const b=async()=>{h(!0);try{const[E,L,q]=await Promise.all([uw(),oo(),lm()]);t(E),n(L),i(q)}catch(E){console.error("Erro ao carregar dados iniciais:",E),w("Erro ao carregar dados")}finally{h(!1)}},N=()=>{m({title:"",image_url:"",button_link:"",is_active:!0}),c(null),g(null)},S=E=>{E?(c(E),m({title:E.title||"",image_url:E.image_url,button_link:E.button_link||"",is_active:E.is_active})):N(),l(!0)},k=()=>{l(!1),N(),w("")},j=E=>{var q;const L=(q=E.target.files)==null?void 0:q[0];if(L){g(L);const X=new FileReader;X.onload=Se=>{var A;const R=(A=Se.target)==null?void 0:A.result;m(z=>({...z,image_url:R}))},X.readAsDataURL(L)}},P=async E=>{E.preventDefault(),v(!0),w("");try{let L=f.image_url;_&&(L=await ro(_,"carousel"));const q={...f,image_url:L};if(u)await Qc(u.id,q),w("Imagem atualizada com sucesso!");else{const X={...q,order_index:e.length+1};await cw(X),w("Imagem adicionada com sucesso!")}await b(),k(),setTimeout(()=>w(""),3e3)}catch(L){console.error("Erro ao salvar imagem:",L),w("Erro ao salvar imagem")}finally{v(!1)}},$=async E=>{if(window.confirm("Tem certeza que deseja excluir esta imagem?"))try{await Pi(E.image_url),await dw(E.id),await b(),w("Imagem excluda com sucesso!"),setTimeout(()=>w(""),3e3)}catch(L){console.error("Erro ao excluir imagem:",L),w("Erro ao excluir imagem")}},Y=async(E,L)=>{const q=e.findIndex(R=>R.id===E);if(q===-1)return;const X=[...e],Se=L==="up"?q-1:q+1;if(Se>=0&&Se<X.length){[X[q],X[Se]]=[X[Se],X[q]];const R=X.map((A,z)=>({...A,order_index:z+1}));try{await hw(R),t(R),w("Ordem das imagens atualizada!"),setTimeout(()=>w(""),3e3)}catch(A){console.error("Erro ao atualizar ordem:",A),w("Erro ao atualizar ordem das imagens")}}},T=async E=>{try{const L={...E,is_active:!E.is_active};await Qc(E.id,L),await b(),w("Status da imagem atualizado!"),setTimeout(()=>w(""),3e3)}catch(L){console.error("Erro ao atualizar status:",L),w("Erro ao atualizar status da imagem")}};return d?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(dn,{})}):a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xa,{className:"text-red-600 mr-3",size:24}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Gerenciar Carrossel"})]}),a.jsxs("button",{onClick:()=>S(),className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center",children:[a.jsx(un,{className:"mr-2",size:16}),"Nova Imagem"]})]}),y&&a.jsx("div",{className:`mb-4 p-4 rounded-lg ${y.includes("sucesso")||y.includes("atualizada")?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:y}),a.jsx("div",{className:"space-y-4",children:e.map((E,L)=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex items-center space-x-4",children:[a.jsx("img",{src:E.image_url,alt:E.title||"",className:"w-24 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:E.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Posio: ",E.order_index]}),a.jsxs("p",{className:"text-sm text-gray-600 truncate",children:["Link: ",E.button_link||"N/A"]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.is_active?"Ativo":"Inativo"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>Y(E.id,"up"),disabled:L===0,className:"text-gray-600 hover:text-gray-900 disabled:text-gray-300 p-1",children:a.jsx(Lx,{size:16})}),a.jsx("button",{onClick:()=>Y(E.id,"down"),disabled:L===e.length-1,className:"text-gray-600 hover:text-gray-900 disabled:text-gray-300 p-1",children:a.jsx(Ax,{size:16})}),a.jsx("button",{onClick:()=>T(E),className:`px-3 py-1 rounded text-xs font-medium ${E.is_active?"bg-red-100 text-red-800 hover:bg-red-200":"bg-green-100 text-green-800 hover:bg-green-200"}`,children:E.is_active?"Desativar":"Ativar"}),a.jsx("button",{onClick:()=>S(E),className:"text-blue-600 hover:text-blue-900 p-1",children:a.jsx(ps,{size:16})}),a.jsx("button",{onClick:()=>$(E),className:"text-red-600 hover:text-red-900 p-1",children:a.jsx(xr,{size:16})})]})]},E.id))})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:u?"Editar Imagem":"Nova Imagem"}),a.jsx("button",{onClick:k,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(dt,{size:24})})]}),a.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo da Imagem *"}),a.jsx("input",{type:"text",required:!0,value:f.title||"",onChange:E=>m(L=>({...L,title:E.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black",placeholder:"Ex: Coleo Vero 2024"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link do Boto (Opcional)"}),a.jsxs("select",{value:f.button_link||"",onChange:E=>m(L=>({...L,button_link:E.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black",children:[a.jsx("option",{value:"",children:"Nenhum"}),a.jsxs("optgroup",{label:"Pginas",children:[a.jsx("option",{value:"#/products",children:"Todos os Produtos"}),a.jsx("option",{value:"#/promotions",children:"Pgina de Promoes"})]}),a.jsx("optgroup",{label:"Categorias",children:r.map(E=>a.jsx("option",{value:`#/products?category=${E.slug}`,children:E.name},E.id))}),a.jsx("optgroup",{label:"Promoes",children:s.map(E=>a.jsx("option",{value:"#/promotions",children:E.name},E.id))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem do Carrossel *"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:"carousel-image-upload"}),a.jsxs("label",{htmlFor:"carousel-image-upload",className:"bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg transition-colors flex items-center cursor-pointer",children:[a.jsx(so,{className:"mr-2",size:16}),"Escolher Imagem"]}),f.image_url&&a.jsx("img",{src:f.image_url,alt:"Preview",className:"w-20 h-12 object-cover rounded-lg"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recomendado: 1200x400px ou superior"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:f.is_active,onChange:E=>m(L=>({...L,is_active:E.target.checked})),className:"mr-2"}),a.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Imagem Ativa"})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:k,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-6 rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:p,className:"bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-semibold py-2 px-6 rounded-lg transition-colors flex items-center",children:p?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cn,{className:"mr-2",size:16}),u?"Atualizar":"Adicionar"," Imagem"]})})]})]})]})})]})},fm=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,i]=x.useState(!1),[o,l]=x.useState(null),[u,c]=x.useState(!0),[d,h]=x.useState(!1),[p,v]=x.useState(""),[y,w]=x.useState({name:"",discount_percentage:"",product_ids:[],is_active:!0});x.useEffect(()=>{_()},[]);const _=async()=>{c(!0);try{const[j,P]=await Promise.all([hu(),lm()]);n(j),t(P)}catch(j){console.error("Erro ao carregar dados:",j),v("Erro ao carregar dados")}finally{c(!1)}},g=()=>{w({name:"",discount_percentage:"",product_ids:[],is_active:!0}),l(null)},f=j=>{j?(l(j),w({name:j.name,discount_percentage:j.discount_percentage.toString(),product_ids:j.product_ids,is_active:j.is_active})):g(),i(!0)},m=()=>{i(!1),g(),v("")},b=j=>{w(P=>({...P,product_ids:P.product_ids.includes(j)?P.product_ids.filter($=>$!==j):[...P.product_ids,j]}))},N=async j=>{j.preventDefault(),h(!0),v("");try{const P={...y,discount_percentage:parseFloat(y.discount_percentage)};o?(await ww(o.id,P),v("Promoo atualizada com sucesso!")):(await xw(P),v("Promoo criada com sucesso!")),await _(),m(),setTimeout(()=>v(""),3e3)}catch(P){console.error("Erro ao salvar promoo:",P),v("Erro ao salvar promoo")}finally{h(!1)}},S=async j=>{if(window.confirm("Tem certeza que deseja excluir esta promoo?"))try{await _w(j),await _(),v("Promoo excluda com sucesso!"),setTimeout(()=>v(""),3e3)}catch(P){console.error("Erro ao excluir promoo:",P),v("Erro ao excluir promoo")}},k=async j=>{try{await bw(j),await _(),v("Status da promoo atualizado!"),setTimeout(()=>v(""),3e3)}catch(P){console.error("Erro ao atualizar status da promoo:",P),v("Erro ao atualizar status da promoo")}};return u?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(dn,{})}):a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ei,{className:"text-red-600 mr-3",size:24}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Gerenciar Promoes"})]}),a.jsxs("button",{onClick:()=>f(),className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center",children:[a.jsx(un,{className:"mr-2",size:16}),"Nova Promoo"]})]}),p&&a.jsx("div",{className:`mb-4 p-4 rounded-lg ${p.includes("sucesso")||p.includes("atualizado")?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:p}),a.jsx("div",{className:"space-y-4",children:e.map(j=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:j.name}),a.jsxs("p",{className:"text-gray-600",children:["Desconto: ",j.discount_percentage,"%"]}),a.jsxs("p",{className:"text-gray-600",children:["Produtos: ",j.product_ids.length]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${j.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.is_active?"Ativa":"Inativa"}),a.jsx("button",{onClick:()=>k(j.id),className:`px-3 py-1 rounded text-sm font-medium ${j.is_active?"bg-red-100 text-red-800 hover:bg-red-200":"bg-green-100 text-green-800 hover:bg-green-200"}`,children:j.is_active?"Desativar":"Ativar"}),a.jsx("button",{onClick:()=>f(j),className:"text-blue-600 hover:text-blue-900 p-2",children:a.jsx(ps,{size:16})}),a.jsx("button",{onClick:()=>S(j.id),className:"text-red-600 hover:text-red-900 p-2",children:a.jsx(xr,{size:16})})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.product_ids.map(P=>{const $=r.find(Y=>Y.id===P);return $?a.jsxs("div",{className:"bg-white p-3 rounded-lg flex items-center space-x-3",children:[a.jsx("img",{src:$.image_url||"",alt:$.name,className:"w-12 h-12 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:$.name}),a.jsxs("p",{className:"text-xs text-gray-600",children:["R$ ",$.price.toFixed(2)]})]})]},P):null})})]},j.id))})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:o?"Editar Promoo":"Nova Promoo"}),a.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(dt,{size:24})})]}),a.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Promoo *"}),a.jsx("input",{type:"text",required:!0,value:y.name,onChange:j=>w(P=>({...P,name:j.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black",placeholder:"Ex: Promoo de Vero"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Desconto (%) *"}),a.jsx("input",{type:"number",min:"1",max:"100",required:!0,value:y.discount_percentage,onChange:j=>w(P=>({...P,discount_percentage:j.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black",placeholder:"20"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:y.is_active,onChange:j=>w(P=>({...P,is_active:j.target.checked})),className:"mr-2"}),a.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Promoo Ativa"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:["Selecionar Produtos (",y.product_ids.length," selecionados)"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto border border-gray-200 rounded-lg p-4",children:r.map(j=>a.jsx("div",{className:`p-3 rounded-lg border-2 cursor-pointer transition-colors ${y.product_ids.includes(j.id)?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>b(j.id),children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:y.product_ids.includes(j.id),onChange:()=>b(j.id),className:"text-red-600"}),a.jsx("img",{src:j.image_url||"",alt:j.name,className:"w-12 h-12 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:j.name}),a.jsxs("p",{className:"text-xs text-gray-600",children:["R$ ",j.price.toFixed(2)]})]})]})},j.id))})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:m,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-6 rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:d||y.product_ids.length===0,className:"bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-semibold py-2 px-6 rounded-lg transition-colors flex items-center",children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cn,{className:"mr-2",size:16}),o?"Atualizar":"Criar"," Promoo"]})})]})]})]})})]})},mm=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState(!0),[u,c]=x.useState(!1),[d,h]=x.useState(""),[p,v]=x.useState(!1),[y,w]=x.useState({username:"",email:"",password:"",confirmPassword:""});x.useEffect(()=>{_()},[]);const _=async()=>{l(!0);try{const S=await iw();t(S)}catch(S){console.error("Erro ao carregar administradores:",S),h("Erro ao carregar administradores. Verifique se o client supabase tem a service_role_key.")}finally{l(!1)}},g=()=>{w({username:"",email:"",password:"",confirmPassword:""}),i(null),v(!1)},f=S=>{S?(i(S),w({username:S.username,email:S.email,password:"",confirmPassword:""})):g(),n(!0)},m=()=>{n(!1),g(),h("")},b=async S=>{if(S.preventDefault(),c(!0),h(""),y.password!==y.confirmPassword){h("As senhas no coincidem"),c(!1);return}if(!s&&y.password.length<6){h("A senha deve ter pelo menos 6 caracteres"),c(!1);return}try{const k={username:y.username,email:y.email,password:y.password};s?(await aw(s.id,k),h("Administrador atualizado com sucesso!")):(await ow(k),h("Administrador criado com sucesso!")),await _(),m(),setTimeout(()=>h(""),3e3)}catch(k){console.error("Erro ao salvar administrador:",k),h("Erro ao salvar administrador")}finally{c(!1)}},N=async S=>{if(e.length<=1){h("No  possvel excluir o ltimo administrador"),setTimeout(()=>h(""),3e3);return}if(window.confirm("Tem certeza que deseja excluir este administrador?"))try{await lw(S),await _(),h("Administrador excludo com sucesso!"),setTimeout(()=>h(""),3e3)}catch(k){console.error("Erro ao excluir administrador:",k),h("Erro ao excluir administrador")}};return o?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(dn,{})}):a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(nm,{className:"text-red-600 mr-3",size:24}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Gerenciar Administradores"})]}),a.jsxs("button",{onClick:()=>f(),className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center",children:[a.jsx(un,{className:"mr-2",size:16}),"Novo Administrador"]})]}),d&&a.jsx("div",{className:`mb-4 p-4 rounded-lg ${d.includes("sucesso")?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:d}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usurio"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criado em"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(S=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.username})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:S.email})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:new Date(S.created_at).toLocaleDateString("pt-BR")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>f(S),className:"text-blue-600 hover:text-blue-900",children:a.jsx(ps,{size:16})}),a.jsx("button",{onClick:()=>N(S.id),className:"text-red-600 hover:text-red-900",disabled:e.length<=1,children:a.jsx(xr,{size:16})})]})})]},S.id))})]})})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:s?"Editar Administrador":"Novo Administrador"}),a.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(dt,{size:24})})]}),a.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome de Usurio *"}),a.jsx("input",{type:"text",required:!0,value:y.username,onChange:S=>w(k=>({...k,username:S.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black",placeholder:"admin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),a.jsx("input",{type:"email",required:!0,value:y.email,onChange:S=>w(k=>({...k,email:S.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black",placeholder:"admin@lovelysexday.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s?"Nova Senha (deixe em branco para manter)":"Senha *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:p?"text":"password",required:!s,value:y.password,onChange:S=>w(k=>({...k,password:S.target.value})),className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Mnimo 6 caracteres"}),a.jsx("button",{type:"button",onClick:()=>v(!p),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:p?a.jsx(Xf,{className:"h-5 w-5 text-gray-400"}):a.jsx(Zf,{className:"h-5 w-5 text-gray-400"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha *"}),a.jsx("input",{type:p?"text":"password",required:!s||y.password!=="",value:y.confirmPassword,onChange:S=>w(k=>({...k,confirmPassword:S.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-black",placeholder:"Confirme a senha"})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:m,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-6 rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:u,className:"bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-semibold py-2 px-6 rounded-lg transition-colors flex items-center",children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cn,{className:"mr-2",size:16}),s?"Atualizar":"Criar"," Administrador"]})})]})]})]})})]})},Nw=({onLogout:e,onNavigate:t})=>{const[r,n]=x.useState("dashboard"),[s,i]=x.useState({totalProducts:0,totalCategories:0,totalCarouselImages:0,featuredProducts:0}),[o,l]=x.useState([]);x.useEffect(()=>{u()},[]);const u=async()=>{try{const[v,y,w,_]=await Promise.all([hu(),oo(),nw(),sw()]);i({totalProducts:v.length,totalCategories:y.length,totalCarouselImages:w.length,featuredProducts:v.filter(g=>g.is_featured).length}),l(_.slice(0,5))}catch(v){console.error("Error loading dashboard data:",v)}},c=({icon:v,title:y,value:w,color:_})=>a.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`p-3 rounded-lg ${_}`,children:a.jsx(v,{className:"text-white",size:24})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-black",children:y}),a.jsx("p",{className:"text-2xl font-bold text-black",children:w})]})]})}),d=[{name:"Produtos",icon:Ti,color:"bg-blue-600 hover:bg-blue-700",section:"products"},{name:"Categorias",icon:Za,color:"bg-green-600 hover:bg-green-700",section:"categories"},{name:"Carrossel",icon:Xa,color:"bg-purple-600 hover:bg-purple-700",section:"carousel"},{name:"Promoes",icon:ei,color:"bg-orange-600 hover:bg-orange-700",section:"promotions"},{name:"Administradores",icon:nm,color:"bg-red-600 hover:bg-red-700",section:"administrators"},{name:"Configuraes",icon:tm,color:"bg-gray-600 hover:bg-gray-700",section:"settings"}],h=v=>{n(v),t(v)},p=()=>{switch(r){case"products":return a.jsx(cm,{});case"categories":return a.jsx(dm,{});case"carousel":return a.jsx(hm,{});case"promotions":return a.jsx(fm,{});case"administrators":return a.jsx(mm,{});case"settings":return a.jsx(um,{});default:return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-black mb-4 flex items-center",children:[a.jsx(Dx,{className:"mr-2 text-black",size:20}),"Aes Rpidas"]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d.map(v=>a.jsxs("button",{onClick:()=>h(v.section),className:`${v.color} text-white p-4 rounded-lg transition-colors flex flex-col items-center space-y-2`,children:[a.jsx(v.icon,{size:24}),a.jsx("span",{className:"font-semibold",children:v.name})]},v.section))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-black mb-4 flex items-center",children:[a.jsx(ei,{className:"mr-2 text-black",size:20}),"Produtos Mais Acessados"]}),a.jsx("div",{className:"space-y-3",children:o.map((v,y)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:y+1}),a.jsx("img",{src:v.image_url,alt:v.name,className:"w-12 h-12 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-black truncate",children:v.name}),a.jsxs("p",{className:"text-sm text-black",children:[v.access_count," acessos"]})]})]},v.id))})]})]})}};return a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(rm,{className:"text-red-600 mr-3",size:24}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-black",children:"Painel Administrativo - Lovely Sex Day"}),r!=="dashboard"&&a.jsx("button",{onClick:()=>n("dashboard"),className:"text-sm text-red-600 hover:text-red-700",children:" Voltar ao Dashboard"})]})]}),a.jsxs("button",{onClick:e,className:"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors",children:[a.jsx(Ux,{size:20}),a.jsx("span",{children:"Sair"})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="dashboard"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-black mb-2",children:"Bem-vindo ao Painel Administrativo"}),a.jsx("p",{className:"text-black",children:"Gerencie produtos, categorias, promoes e mais atravs desta interface."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(c,{icon:Ti,title:"Total de Produtos",value:s.totalProducts,color:"bg-blue-600"}),a.jsx(c,{icon:Za,title:"Categorias",value:s.totalCategories,color:"bg-green-600"}),a.jsx(c,{icon:Xa,title:"Imagens no Carrossel",value:s.totalCarouselImages,color:"bg-purple-600"}),a.jsx(c,{icon:ei,title:"Produtos em Destaque",value:s.featuredProducts,color:"bg-orange-600"})]})]}),p()]})]})},Ew=({onLogin:e})=>{const[t,r]=x.useState(""),[n,s]=x.useState(""),[i,o]=x.useState(!1),[l,u]=x.useState(""),[c,d]=x.useState(!1),h=async p=>{if(p.preventDefault(),u(""),d(!0),!t.trim()||!n.trim()){u("Por favor, preencha todos os campos"),d(!1);return}try{const{error:v}=await O.auth.signInWithPassword({email:t,password:n});if(v)throw v;e()}catch(v){console.error("Erro na autenticao:",v),u(v.message||"Credenciais invlidas")}finally{d(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-600 via-purple-700 to-red-600 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsx("div",{children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-4xl font-bold text-white mb-2 font-serif",children:"Lovely Sex Day"}),a.jsx("p",{className:"text-white/80 text-lg",children:"Painel Administrativo"})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:a.jsx(Kc,{className:"w-8 h-8 text-red-600"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Acesso Restrito"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Faa login para acessar o painel"})]}),a.jsxs("form",{className:"space-y-6",onSubmit:h,children:[l&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:l}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Hx,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t,onChange:p=>r(p.target.value),className:"appearance-none rounded-lg relative block w-full pl-10 pr-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Email"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Kc,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:i?"text":"password",required:!0,value:n,onChange:p=>s(p.target.value),className:"appearance-none rounded-lg relative block w-full pl-10 pr-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Senha"}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i?a.jsx(Xf,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(Zf,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:bg-red-400",children:c?"Entrando...":"Entrar no Painel"})})]})]})]})})};function Cw(){const[e,t]=x.useState(null),[r,n]=x.useState(!0);x.useEffect(()=>{(async()=>{const{data:{session:l}}=await O.auth.getSession();t(l),n(!1)})();const{data:o}=O.auth.onAuthStateChange((l,u)=>{t(u)});return()=>{o==null||o.subscription.unsubscribe()}},[]);const s=async()=>{await O.auth.signOut()};return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-passion border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-neutral-600",children:"Carregando..."})]})}):e?a.jsxs(Ma,{children:[a.jsx(ye,{path:"",element:a.jsx(Nw,{onLogout:s,onNavigate:()=>{}})}),a.jsx(ye,{path:"managers",element:a.jsx(mm,{})}),a.jsx(ye,{path:"carousel",element:a.jsx(hm,{})}),a.jsx(ye,{path:"categories",element:a.jsx(dm,{})}),a.jsx(ye,{path:"products",element:a.jsx(cm,{})}),a.jsx(ye,{path:"promotions",element:a.jsx(fm,{})}),a.jsx(ye,{path:"settings",element:a.jsx(um,{})}),a.jsx(ye,{path:"*",element:a.jsx(wf,{to:"/admin",replace:!0})})]}):a.jsx(Ew,{onLogin:()=>{}})}function Pw(){const[e,t]=x.useState(!1),[r,n]=x.useState(!0);x.useEffect(()=>{s();const{data:i}=O.auth.onAuthStateChange((o,l)=>{t(!!l)});return()=>{i==null||i.subscription.unsubscribe()}},[]);const s=async()=>{const{data:{session:i}}=await O.auth.getSession();t(!!i),n(!1)};return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-passion border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-neutral-600",children:"Carregando..."})]})}):a.jsx(ev,{children:a.jsxs(Ma,{children:[a.jsx(ye,{path:"/admin/*",element:a.jsx(Cw,{})}),a.jsx(ye,{path:"/*",element:a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Qx,{}),a.jsx("main",{className:"flex-1",children:a.jsxs(Ma,{children:[a.jsx(ye,{path:"/",element:a.jsx(Xx,{})}),a.jsx(ye,{path:"/product/:slug",element:a.jsx(Zx,{})}),a.jsx(ye,{path:"/products",element:a.jsx(tw,{})}),a.jsx(ye,{path:"/promotions",element:a.jsx(rw,{})}),a.jsx(ye,{path:"*",element:a.jsx(wf,{to:"/",replace:!0})})]})}),a.jsx(Yx,{})]})})]})})}cf(document.getElementById("root")).render(a.jsx(x.StrictMode,{children:a.jsx(Pw,{})}));
